"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[7877],{77877:function(e,t,a){a.r(t);var n=a(74165),r=a(15861),i=a(4942),l=a(1413),o=a(29439),c=a(72791),s=a(5574),d=a(65661),u=a(39157),m=a(48550),Z=a(20890),f=a(36314),x=a(81918),h=a(97123),j=a(24518),p=a(61889),v=a(35527),g=a(42419),b=a(69861),w=a(3395),C=a(79836),k=a(53382),S=a(53994),y=a(39281),T=a(56890),D=a(35855),L=(a(97892),a(7792)),A=a(36571),I=a(53106),_=a(68096),M=a(88970),P=a(85523),U=a(61419),R=a(58406),B=a(23786),F=a(13400),W=a(57689),z=a(33805),N=a(75985),V=a(31243),G=a(11087),O=a(80184),H=new Map([[1,"primary"],[2,"warning"],[3,"error"],[4,"info"]]),q=new Map([[1,"Short Term"],[2,"Long Term"],[3,"Urgent"]]),E=new Map([[1,"Low"],[2,"Medium"],[3,"Urgent"]]);t.default=function(){var e,t,a=(0,W.TH)(),J=new URLSearchParams(a.search),K=J.get("id"),Q=J.get("title");if(!K)return(0,O.jsx)(O.Fragment,{children:"Bad Request"});var X=c.useState(!1),Y=(0,o.Z)(X,2),$=Y[0],ee=Y[1],te=function(){ee(!1)},ae=c.useState(!1),ne=(0,o.Z)(ae,2),re=ne[0],ie=ne[1],le=c.useState(null),oe=(0,o.Z)(le,2),ce=oe[0],se=oe[1],de=c.useState(!1),ue=(0,o.Z)(de,2),me=ue[0],Ze=ue[1],fe=(0,c.useState)(1),xe=(0,o.Z)(fe,2),he=xe[0],je=xe[1],pe=(0,c.useState)({false:"createdOn",true:"createdOn"}),ve=(0,o.Z)(pe,2),ge=ve[0],be=ve[1],we=(0,c.useState)({name:"",desc:"",timeframe:1,impact:1,custom:null}),Ce=(0,o.Z)(we,2),ke=Ce[0],Se=Ce[1],ye=function(e,t){return function(){"timeframe"===e&&se(null);var a={target:{value:t}};Te(e)(a)}},Te=function(e){return function(t){Se((function(a){return(0,l.Z)((0,l.Z)({},a),{},(0,i.Z)({},e,t.target.value))}))}},De=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 4===ke.timeframe?ke.custom=new Date(ce):delete ke.custom,t=(0,l.Z)((0,l.Z)({},ke),{},{projectId:K}),e.next=4,V.Z.post("".concat(z.BC,"/project/goal"),{formData:t});case 4:"Created"===e.sent.data?(Me(),te(),Se({name:"",desc:"",timeframe:1,impact:1,custom:null}),N.Am.success("Goal Added")):N.Am.error("Cannot add goal, try again");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=(0,c.useState)([]),Ae=(0,o.Z)(Le,2),Ie=Ae[0],_e=Ae[1],Me=function(){V.Z.get("".concat(z.BC,"/project/goal/").concat(K,"?status=").concat(me,"&sortBy=").concat(ge[me],"&order=").concat(he)).then((function(e){_e(e.data)}))};return(0,c.useEffect)((function(){Me()}),[me,ge,he]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(s.Z,{open:$,onClose:te,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,O.jsx)(d.Z,{id:"alert-dialog-title",variant:"h3",children:"Add a new goal"}),(0,O.jsxs)(u.Z,{children:[(0,O.jsx)(m.Z,{id:"outlined-basic",fullWidth:!0,sx:{mb:2,mt:2},label:"Goal name",variant:"outlined",value:ke.name,onChange:Te("name")}),(0,O.jsx)(m.Z,{id:"outlined-basic",fullWidth:!0,sx:{mb:2},label:"Brief description",multiline:!0,rows:4,variant:"outlined",value:ke.desc,onChange:Te("desc")}),(0,O.jsx)(Z.Z,{variant:"subtitle1",sx:{mb:1},children:"Select a timeframe"}),(0,O.jsxs)(f.Z,{direction:"row",spacing:1,children:[(0,O.jsx)(x.Z,{variant:3===ke.timeframe?"filled":"outlined",color:"error",label:"Urgent",onClick:ye("timeframe",3)}),(0,O.jsx)(x.Z,{variant:2===ke.timeframe?"filled":"outlined",color:"warning",label:"Long Term",onClick:ye("timeframe",2)}),(0,O.jsx)(x.Z,{variant:1===ke.timeframe?"filled":"outlined",color:"primary",label:"Short Term",onClick:ye("timeframe",1)}),!re&&(0,O.jsx)(x.Z,{variant:4===ke.timeframe?"filled":"outlined",color:"info",label:ce?new Date(ce).toLocaleDateString():"Custom",onClick:function(e){return ie(!0)}}),re&&(0,O.jsx)(A._,{dateAdapter:L.y,children:(0,O.jsx)(I.M,{disablePast:!0,displayStaticWrapperAs:"desktop",openTo:"year",value:ce,onChange:function(e){se(e)},onClose:function(e){ce&&(Se((function(e){return(0,l.Z)((0,l.Z)({},e),{},{timeframe:4})})),ie(!1))},renderInput:function(e){return(0,O.jsx)(m.Z,(0,l.Z)({},e))}})})]}),(0,O.jsx)("br",{}),(0,O.jsx)(Z.Z,{variant:"subtitle1",sx:{mb:1},children:"Define impact"}),(0,O.jsxs)(f.Z,{direction:"row",spacing:1,children:[(0,O.jsx)(x.Z,{variant:3===ke.impact?"filled":"outlined",color:"error",label:"Urgent",onClick:ye("impact",3)}),(0,O.jsx)(x.Z,{variant:2===ke.impact?"filled":"outlined",color:"warning",label:"Medium",onClick:ye("impact",2)}),(0,O.jsx)(x.Z,{variant:1===ke.impact?"filled":"outlined",color:"primary",label:"Low",onClick:ye("impact",1)})]})]}),(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(j.Z,{onClick:te,children:"Cancel"}),(0,O.jsx)(j.Z,{onClick:De,autoFocus:!0,children:"Create goal"})]})]}),(0,O.jsxs)(p.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,O.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,O.jsx)(Z.Z,{sx:{float:"left"},variant:"h3",children:null!==(e=a.state)&&void 0!==e&&e.title?null===(t=a.state)||void 0===t?void 0:t.title:Q||"<Project Title>"}),(0,O.jsx)(j.Z,{variant:"contained",startIcon:(0,O.jsx)(g.Z,{}),onClick:function(){ee(!0)},sx:{float:"right"},children:"Add a new goal"})]}),(0,O.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,O.jsx)(_.Z,{children:(0,O.jsxs)(M.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:me,onChange:function(e){Ze(e.target.value)},children:[(0,O.jsx)(P.Z,{value:!1,control:(0,O.jsx)(U.Z,{}),label:"In-Progress"}),(0,O.jsx)(P.Z,{value:!0,control:(0,O.jsx)(U.Z,{}),label:"Completed"})]})}),(0,O.jsx)(_.Z,{size:"small",sx:{float:"right"},children:(0,O.jsxs)(R.Z,{id:"demo-simple-select",value:ge[me],onChange:function(e){be((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,i.Z)({},me,e.target.value))}))},children:[(0,O.jsx)(B.Z,{value:"createdOn",children:"Time Created"}),(0,O.jsx)(B.Z,{value:"impact",children:"Impact"}),(0,O.jsx)(B.Z,{value:"timeframe",children:"Time Frame"})]})}),(0,O.jsx)(F.Z,{sx:{float:"right",borderRadius:"50%"},onClick:function(){return je(he>0?-1:1)},children:he>0?(0,O.jsx)(w.Z,{}):(0,O.jsx)(b.Z,{})}),(0,O.jsx)("br",{}),(0,O.jsx)("br",{}),(0,O.jsx)(y.Z,{component:v.Z,children:(0,O.jsxs)(C.Z,{"aria-label":"simple table",children:[(0,O.jsx)(T.Z,{children:(0,O.jsxs)(D.Z,{children:[(0,O.jsx)(S.Z,{children:"Goal Name"}),(0,O.jsx)(S.Z,{align:"center",children:"Timeframe"}),(0,O.jsx)(S.Z,{align:"center",children:"Impact"})]})}),(0,O.jsx)(k.Z,{children:Ie.map((function(e){var t=4===e.timeframe?new Date(e.custom).toLocaleDateString():q.get(e.timeframe);return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(D.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,O.jsx)(S.Z,{component:"th",scope:"row",children:(0,O.jsx)(G.rU,{style:{textDecoration:"none"},to:"/dashboard/projectgoal?goalId=".concat(e._id,"&projectId=").concat(e.projectId),children:e.name})}),(0,O.jsx)(S.Z,{align:"center",children:(0,O.jsx)(x.Z,{color:H.get(e.timeframe),label:t})}),(0,O.jsx)(S.Z,{align:"center",children:(0,O.jsx)(x.Z,{color:H.get(e.impact),label:E.get(e.impact)})})]},e)})}))})]})})]})]})]})}},42419:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},3395:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=l},69861:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.Z=l},65661:function(e,t,a){var n=a(87462),r=a(63366),i=a(72791),l=a(28182),o=a(94419),c=a(20890),s=a(66934),d=a(31402),u=a(17673),m=a(85090),Z=a(80184),f=["className","id"],x=(0,s.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),h=i.forwardRef((function(e,t){var a=(0,d.Z)({props:e,name:"MuiDialogTitle"}),c=a.className,s=a.id,h=(0,r.Z)(a,f),j=a,p=function(e){var t=e.classes;return(0,o.Z)({root:["root"]},u.a,t)}(j),v=i.useContext(m.Z).titleId,g=void 0===v?s:v;return(0,Z.jsx)(x,(0,n.Z)({component:"h2",className:(0,l.Z)(p.root,c),ownerState:j,ref:t,variant:"h6",id:null!=s?s:g},h))}));t.Z=h}}]);
//# sourceMappingURL=7877.1bb08b51.chunk.js.map