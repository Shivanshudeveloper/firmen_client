(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4642],{57867:function(e,n,r){"use strict";var t=r(1413),a=(r(72791),r(61889)),s=r(20890),i=r(68096),c=r(58406),l=r(23786),o=r(48550),u=r(7792),d=r(36571),h=r(53106),x=r(80184);n.Z=function(e){var n=e.empTask,r=e.employeeList,Z=e.handleEmpTask;return(0,x.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,x.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,x.jsx)(s.Z,{variant:"p",children:"Select Employee"}),(0,x.jsx)("br",{}),(0,x.jsx)(i.Z,{fullWidth:!0,children:(0,x.jsxs)(c.Z,{fullWidth:!0,id:"demo-simple-select",value:n.employee,onChange:Z("employee"),children:[r?(0,x.jsx)(l.Z,{value:"None",children:"None"}):(0,x.jsx)(l.Z,{value:"None",children:"No employee found"}),r&&r.map((function(e,n){return(0,x.jsx)(l.Z,{value:e.email,children:e.email},e.email)}))]})})]}),(0,x.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,x.jsx)(s.Z,{variant:"p",children:"Task Name"}),(0,x.jsx)(o.Z,{variant:"outlined",fullWidth:!0,type:"text",value:n.task,onChange:Z("task")})]}),(0,x.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,x.jsx)(s.Z,{variant:"p",children:"Source Name"}),(0,x.jsx)(o.Z,{variant:"outlined",fullWidth:!0,type:"text",value:n.source,onChange:Z("source")})]}),(0,x.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,x.jsx)(s.Z,{variant:"p",children:"Source URL (If applicable *)"}),(0,x.jsx)(o.Z,{variant:"outlined",fullWidth:!0,type:"text",value:n.url,onChange:Z("url")})]}),(0,x.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,x.jsx)(s.Z,{variant:"p",children:"Due Date"}),(0,x.jsx)("br",{}),(0,x.jsx)(d._,{dateAdapter:u.y,children:(0,x.jsx)(h.M,{disablePast:!0,openTo:"year",views:["year","month","day"],value:n.due,onChange:Z("due"),renderInput:function(e){return(0,x.jsx)(o.Z,(0,t.Z)({},e))}})})]})]})}},56054:function(e,n,r){"use strict";r.r(n);var t=r(4942),a=r(1413),s=r(74165),i=r(15861),c=r(29439),l=r(72791),o=r(5574),u=r(65661),d=r(39157),h=r(48550),x=r(51691),Z=r(97123),m=r(24518),p=r(61889),j=r(20890),f=r(35527),v=r(39281),g=r(79836),b=r(56890),k=r(35855),y=r(53994),C=r(53382),w=r(81918),S=r(20068),_=r(42419),A=r(68096),P=r(58406),T=r(23786),W=r(94454),N=r(49900),R=r(64554),B=(r(49348),r(26467)),E=r(78316),F=(r(57867),r(31243)),D=r(33805),U=r(75985),I=r(57689),L=(r(26098),r(80184)),M={PaperProps:{style:{maxHeight:224,width:250}}};n.default=function(){var e=(0,E.E)().user,n=(0,I.TH)(),r=new URLSearchParams(n.search).get("goalId");if(!r)return(0,L.jsx)(L.Fragment,{children:"Bad Request"});var O=l.useState(null),H=(0,c.Z)(O,2),J=H[0],q=H[1],z=l.useState(!1),V=(0,c.Z)(z,2),G=V[0],K=V[1],Q=l.useState([]),X=(0,c.Z)(Q,2),Y=X[0],$=X[1],ee=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var r,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.RZ.collection(B.hJ).where("projects","array-contains",e.email).get();case 2:r=n.sent,t=[],r.forEach((function(n){var r=n.data();n.id!==e.uid&&(r.uid=n.id,t.push(r))})),$(t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){e&&ee()}),[e]);var ne=(0,l.useState)(null),re=(0,c.Z)(ne,2),te=re[0],ae=re[1];(0,l.useEffect)((function(){F.Z.get("".concat(D.BC,"/project/getgoal/").concat(r)).then((function(e){ae(e.data)}))}),[]);var se=l.useState(!1),ie=(0,c.Z)(se,2),ce=ie[0],le=ie[1],oe=function(e){q(e),le(!0)},ue=function(){le(!1)},de=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tasks"!==J){e.next=10;break}if(Ze.name&&Ze.desc&&Ze.members.length){e.next=3;break}return e.abrupt("return");case 3:return n=(0,a.Z)({},Ze),e.next=6,F.Z.patch("".concat(D.BC,"/project/goal/").concat(r,"?key=tasks"),{payload:n});case 6:"Updated"===(t=e.sent).data?(F.Z.get("".concat(D.BC,"/project/getgoal/").concat(r)).then((function(e){ae(e.data)})),U.Am.success("Task Added"),ge({url:"",name:""})):(console.log(t.data),U.Am.error("Some error occured")),e.next=11;break;case 10:"resources"===J&&ke();case 11:ue();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=(0,l.useState)({name:"",desc:"",members:[]}),xe=(0,c.Z)(he,2),Ze=xe[0],me=xe[1],pe=function(e){return function(n){var r=n.target.value;me((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e,r))}))}},je=(0,l.useState)({url:"",name:""}),fe=(0,c.Z)(je,2),ve=fe[0],ge=fe[1],be=function(e){return function(n){ge((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,t.Z)({},e,n.target.value))}))}},ke=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.url&&ve.name){e.next=2;break}return e.abrupt("return");case 2:return n=ve,e.next=5,F.Z.patch("".concat(D.BC,"/project/goal/").concat(r,"?key=resources"),{payload:n});case 5:"Updated"===(t=e.sent).data?(F.Z.get("".concat(D.BC,"/project/getgoal/").concat(r)).then((function(e){ae(e.data)})),U.Am.success("Resource Added"),ge({url:"",name:""})):(console.log(t.data),U.Am.error("Some error occured"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={_id:n},e.next=3,F.Z.patch("".concat(D.BC,"/project/goal/").concat(r,"?key=resources"),{payload:t});case 3:1===(a=e.sent).data?F.Z.get("".concat(D.BC,"/project/getgoal/").concat(r)).then((function(e){ae(e.data)})):(console.log(a.data),U.Am.error("Some error occured !"));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(o.Z,{open:ce,onClose:ue,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:["resources"===J?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.Z,{id:"alert-dialog-title",variant:"h3",children:"Add resources"}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)(h.Z,{label:"Name",fullWidth:!0,type:"text",variant:"outlined",value:ve.name,onChange:be("name")}),(0,L.jsx)(h.Z,{label:"URL",fullWidth:!0,sx:{mb:2,mt:2},type:"text",variant:"outlined",value:ve.url,onChange:be("url")})]})]}):null,"tasks"===J?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.Z,{id:"alert-dialog-title",variant:"h3",children:"Add Tasks"}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)(x.Z,{variant:"h5",children:"Task Name"}),(0,L.jsx)(h.Z,{autoFocus:!0,margin:"dense",id:"project-name",placeholder:"Mission 101",value:Ze.name,onChange:pe("name"),fullWidth:!0,variant:"outlined"}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)(x.Z,{sx:{py:"2px"},variant:"h5",children:"Add Team Memeber/s"}),(0,L.jsx)(A.Z,{sx:{width:"100%"},children:(0,L.jsx)(P.Z,{id:"resources-multiple-checkbox",multiple:!0,value:Ze.members,onChange:pe("members"),renderValue:function(e){return e.join(", ")},MenuProps:M,children:Y.map((function(e){return(0,L.jsxs)(T.Z,{value:e.email,children:[(0,L.jsx)(W.Z,{checked:Ze.members.indexOf(e.email)>-1}),(0,L.jsx)(N.Z,{primary:"".concat(e.displayName," (").concat(e.email,")")})]},e.email)}))})}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)(x.Z,{variant:"h5",children:"Brief Description"}),(0,L.jsx)(h.Z,{margin:"dense",id:"project-desc",multiline:!0,rows:4,placeholder:"Started with ...",value:Ze.desc,onChange:pe("desc"),fullWidth:!0,variant:"outlined"})]})]}):null,(0,L.jsxs)(Z.Z,{children:[(0,L.jsx)(m.Z,{onClick:ue,children:"Cancel"}),(0,L.jsx)(m.Z,{onClick:de,autoFocus:!0,children:"resources"===J?"Create Resource":"Add Task"})]})]}),(0,L.jsxs)(p.ZP,{container:!0,rowSpacing:2.5,columnSpacing:2.75,children:[(0,L.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,L.jsx)(j.Z,{variant:"h3",children:null===te||void 0===te?void 0:te.name}),(0,L.jsx)(j.Z,{variant:"body1",children:null===te||void 0===te?void 0:te.desc})]}),(0,L.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,L.jsx)(A.Z,{size:"small",sx:{float:"right"},children:(0,L.jsxs)(P.Z,{id:"demo-simple-select",value:G,onChange:function(e){return K(JSON.parse(e.target.value))},children:[(0,L.jsx)(T.Z,{value:!1,children:"In-Progress"}),(0,L.jsx)(T.Z,{value:!0,children:"Completed"})]})}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)(j.Z,{variant:"h4",sx:{float:"left"},children:"Tasks"}),(0,L.jsx)(m.Z,{variant:"contained",startIcon:(0,L.jsx)(_.Z,{}),sx:{float:"right"},onClick:function(){return oe("tasks")},children:"Add Tasks"}),(0,L.jsx)(f.Z,{sx:{p:4,borderRadius:2,mt:4},children:(0,L.jsx)(v.Z,{component:f.Z,children:(0,L.jsxs)(g.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(k.Z,{children:[(0,L.jsx)(y.Z,{sx:{width:"25%"},children:"Task"}),(0,L.jsx)(y.Z,{sx:{width:"25%"},children:"Description"}),(0,L.jsx)(y.Z,{sx:{width:"50%"},children:"Assigned To"})]})}),(0,L.jsx)(C.Z,{children:null===te||void 0===te?void 0:te.tasks.map((function(e){if(e.status===G)return(0,L.jsxs)(k.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,L.jsx)(y.Z,{scope:"row",children:(0,L.jsx)(j.Z,{sx:{pt:1},variant:"h6",children:e.name})}),(0,L.jsx)(y.Z,{variant:"h6",children:e.desc}),(0,L.jsx)(y.Z,{variant:"h6",children:(0,L.jsx)(R.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.members.map((function(e){return(0,L.jsx)(w.Z,{label:e,color:"default"},e)}))})})]},e._id)}))})]})})}),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.Z,{variant:"h4",sx:{float:"left"},children:"Resources"}),(0,L.jsx)(m.Z,{variant:"contained",startIcon:(0,L.jsx)(_.Z,{}),sx:{float:"right"},onClick:function(){return oe("resources")},children:"Add resources"}),(0,L.jsx)(f.Z,{sx:{p:4,borderRadius:2,mt:4},children:(0,L.jsx)(R.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:null===te||void 0===te?void 0:te.resources.map((function(e){return(0,L.jsx)(S.Z,{title:e.url,children:(0,L.jsx)(w.Z,{label:e.name,clickable:!0,onClick:function(){window.open(e.url,"_blank")},onDelete:function(){ye(e._id)}},e._id)})}))})})]})]})]})]})}},13411:function(e){function n(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=function(){return[]},n.resolve=n,n.id=13411,e.exports=n},62183:function(){},13024:function(){},62715:function(){},13611:function(){},28353:function(){},1210:function(){},43454:function(){}}]);
//# sourceMappingURL=4642.73f32208.chunk.js.map