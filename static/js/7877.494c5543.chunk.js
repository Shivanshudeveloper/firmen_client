"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[7877],{77877:function(e,t,a){a.r(t);var n=a(74165),r=a(15861),i=a(4942),l=a(1413),o=a(29439),c=a(72791),s=a(5574),d=a(65661),u=a(39157),m=a(48550),Z=a(20890),x=a(36314),h=a(81918),f=a(97123),j=a(24518),p=a(61889),g=a(35527),v=a(42419),b=a(69861),w=a(3395),C=a(79836),k=a(53382),S=a(53994),y=a(39281),L=a(56890),A=a(35855),T=(a(97892),a(7792)),_=a(36571),D=a(53106),I=a(68096),M=a(88970),P=a(85523),U=a(61419),B=a(58406),F=a(23786),W=a(13400),z=a(57689),V=a(33805),G=a(75985),O=a(31243),R=a(11087),H=a(80184),q=new Map([[1,"primary"],[2,"warning"],[3,"error"],[4,"info"]]),E=new Map([[1,"Short Term"],[2,"Long Term"],[3,"Urgent"]]),N=new Map([[1,"Low"],[2,"Medium"],[3,"Urgent"]]);t.default=function(){var e,t,a=(0,z.TH)(),J=new URLSearchParams(a.search),K=J.get("id"),Q=J.get("title");if(!K)return(0,H.jsx)(H.Fragment,{children:"Bad Request"});var X=c.useState(!1),Y=(0,o.Z)(X,2),$=Y[0],ee=Y[1],te=function(){ee(!1)},ae=c.useState(!1),ne=(0,o.Z)(ae,2),re=ne[0],ie=ne[1],le=c.useState(null),oe=(0,o.Z)(le,2),ce=oe[0],se=oe[1],de=c.useState(!1),ue=(0,o.Z)(de,2),me=ue[0],Ze=ue[1],xe=(0,c.useState)(1),he=(0,o.Z)(xe,2),fe=he[0],je=he[1],pe=(0,c.useState)({false:"createdOn",true:"createdOn"}),ge=(0,o.Z)(pe,2),ve=ge[0],be=ge[1],we=(0,c.useState)({name:"",desc:"",timeframe:1,impact:1,custom:null}),Ce=(0,o.Z)(we,2),ke=Ce[0],Se=Ce[1],ye=function(e,t){return function(){"timeframe"===e&&se(null);var a={target:{value:t}};Le(e)(a)}},Le=function(e){return function(t){Se((function(a){return(0,l.Z)((0,l.Z)({},a),{},(0,i.Z)({},e,t.target.value))}))}},Ae=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 4===ke.timeframe?ke.custom=new Date(ce):delete ke.custom,t=(0,l.Z)((0,l.Z)({},ke),{},{projectId:K}),e.next=4,O.Z.post("".concat(V.BC,"/project/goal"),{formData:t});case 4:"Created"===e.sent.data?(Me(),te(),Se({name:"",desc:"",timeframe:1,impact:1,custom:null}),G.Am.success("Goal Added")):G.Am.error("Cannot add goal, try again");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=(0,c.useState)([]),_e=(0,o.Z)(Te,2),De=_e[0],Ie=_e[1],Me=function(){O.Z.get("".concat(V.BC,"/project/goal/").concat(K,"?status=").concat(me,"&sortBy=").concat(ve[me],"&order=").concat(fe)).then((function(e){Ie(e.data)}))};return(0,c.useEffect)((function(){Me()}),[me,ve,fe]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(s.Z,{open:$,onClose:te,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,H.jsx)(d.Z,{id:"alert-dialog-title",variant:"h3",children:"Add a new goal"}),(0,H.jsxs)(u.Z,{children:[(0,H.jsx)(m.Z,{id:"outlined-basic",fullWidth:!0,sx:{mb:2,mt:2},label:"Goal name",variant:"outlined",value:ke.name,onChange:Le("name")}),(0,H.jsx)(m.Z,{id:"outlined-basic",fullWidth:!0,sx:{mb:2},label:"Brief description",multiline:!0,rows:4,variant:"outlined",value:ke.desc,onChange:Le("desc")}),(0,H.jsx)(Z.Z,{variant:"subtitle1",sx:{mb:1},children:"Select a timeframe"}),(0,H.jsxs)(x.Z,{direction:"row",spacing:1,children:[(0,H.jsx)(h.Z,{variant:3===ke.timeframe?"filled":"outlined",color:"error",label:"Urgent",onClick:ye("timeframe",3)}),(0,H.jsx)(h.Z,{variant:2===ke.timeframe?"filled":"outlined",color:"warning",label:"Long Term",onClick:ye("timeframe",2)}),(0,H.jsx)(h.Z,{variant:1===ke.timeframe?"filled":"outlined",color:"primary",label:"Short Term",onClick:ye("timeframe",1)}),!re&&(0,H.jsx)(h.Z,{variant:4===ke.timeframe?"filled":"outlined",color:"info",label:ce?new Date(ce).toLocaleDateString():"Custom",onClick:function(e){return ie(!0)}}),re&&(0,H.jsx)(_._,{dateAdapter:T.y,children:(0,H.jsx)(D.M,{disablePast:!0,displayStaticWrapperAs:"desktop",openTo:"year",value:ce,onChange:function(e){se(e)},onClose:function(e){ce&&(Se((function(e){return(0,l.Z)((0,l.Z)({},e),{},{timeframe:4})})),ie(!1))},renderInput:function(e){return(0,H.jsx)(m.Z,(0,l.Z)({},e))}})})]}),(0,H.jsx)("br",{}),(0,H.jsx)(Z.Z,{variant:"subtitle1",sx:{mb:1},children:"Define impact"}),(0,H.jsxs)(x.Z,{direction:"row",spacing:1,children:[(0,H.jsx)(h.Z,{variant:3===ke.impact?"filled":"outlined",color:"error",label:"Urgent",onClick:ye("impact",3)}),(0,H.jsx)(h.Z,{variant:2===ke.impact?"filled":"outlined",color:"warning",label:"Medium",onClick:ye("impact",2)}),(0,H.jsx)(h.Z,{variant:1===ke.impact?"filled":"outlined",color:"primary",label:"Low",onClick:ye("impact",1)})]})]}),(0,H.jsxs)(f.Z,{children:[(0,H.jsx)(j.Z,{onClick:te,children:"Cancel"}),(0,H.jsx)(j.Z,{onClick:Ae,autoFocus:!0,children:"Create goal"})]})]}),(0,H.jsxs)(p.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,H.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,H.jsx)(Z.Z,{sx:{float:"left"},variant:"h3",children:null!==(e=a.state)&&void 0!==e&&e.title?null===(t=a.state)||void 0===t?void 0:t.title:Q||"<Project Title>"}),(0,H.jsx)(j.Z,{variant:"contained",startIcon:(0,H.jsx)(v.Z,{}),onClick:function(){ee(!0)},sx:{float:"right"},children:"Add a new goal"})]}),(0,H.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,H.jsx)(I.Z,{children:(0,H.jsxs)(M.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:me,onChange:function(e){Ze(e.target.value)},children:[(0,H.jsx)(P.Z,{value:!1,control:(0,H.jsx)(U.Z,{}),label:"In-Progress"}),(0,H.jsx)(P.Z,{value:!0,control:(0,H.jsx)(U.Z,{}),label:"Completed"})]})}),(0,H.jsx)(I.Z,{size:"small",sx:{float:"right"},children:(0,H.jsxs)(B.Z,{id:"demo-simple-select",value:ve[me],onChange:function(e){be((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,i.Z)({},me,e.target.value))}))},children:[(0,H.jsx)(F.Z,{value:"createdOn",children:"Time Created"}),(0,H.jsx)(F.Z,{value:"impact",children:"Impact"}),(0,H.jsx)(F.Z,{value:"timeframe",children:"Time Frame"})]})}),(0,H.jsx)(W.Z,{sx:{float:"right",borderRadius:"50%"},onClick:function(){return je(fe>0?-1:1)},children:fe>0?(0,H.jsx)(w.Z,{}):(0,H.jsx)(b.Z,{})}),(0,H.jsx)("br",{}),(0,H.jsx)("br",{}),(0,H.jsx)(y.Z,{component:g.Z,children:(0,H.jsxs)(C.Z,{"aria-label":"simple table",children:[(0,H.jsx)(L.Z,{children:(0,H.jsxs)(A.Z,{children:[(0,H.jsx)(S.Z,{children:"Goal Name"}),(0,H.jsx)(S.Z,{align:"center",children:"Timeframe"}),(0,H.jsx)(S.Z,{align:"center",children:"Impact"})]})}),(0,H.jsx)(k.Z,{children:De.map((function(e){var t=4===e.timeframe?new Date(e.custom).toLocaleDateString():E.get(e.timeframe);return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(A.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,H.jsx)(S.Z,{component:"th",scope:"row",children:(0,H.jsx)(R.rU,{style:{textDecoration:"none"},to:"/dashboard/projectgoal?goalId=".concat(e._id,"&projectId=").concat(e.projectId),children:e.name})}),(0,H.jsx)(S.Z,{align:"center",children:(0,H.jsx)(h.Z,{color:q.get(e.timeframe),label:t})}),(0,H.jsx)(S.Z,{align:"center",children:(0,H.jsx)(h.Z,{color:q.get(e.impact),label:N.get(e.impact)})})]},e)})}))})]})})]})]})]})}},42419:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},3395:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=l},69861:function(e,t,a){var n=a(64836);t.Z=void 0;var r=n(a(45649)),i=a(80184),l=(0,r.default)((0,i.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.Z=l}}]);
//# sourceMappingURL=7877.494c5543.chunk.js.map