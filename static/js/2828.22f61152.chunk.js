"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[2828],{42828:function(e,n,r){r.r(n);var i=r(4942),a=r(1413),s=r(29439),l=r(72791),t=r(5574),c=r(65661),o=r(36314),d=r(20890),x=r(39157),h=r(64554),Z=r(39281),j=r(35527),u=r(79836),m=r(56890),g=r(35855),p=r(53994),f=r(53382),v=r(81918),b=r(97123),w=r(24518),y=r(61889),k=r(68096),C=r(88970),R=r(85523),N=r(61419),S=(r(97242),r(31243)),E=r(33805),_=r(78316),P=r(80184),A="Accepted",q="Rejected";n.default=function(){var e=(0,_.E)().user,n=l.useState("Requested"),r=(0,s.Z)(n,2),F=r[0],I=r[1],T=l.useState([]),B=(0,s.Z)(T,2),D=B[0],W=B[1],J=l.useState([]),L=(0,s.Z)(J,2),M=L[0],O=L[1],V=l.useState(null),z=(0,s.Z)(V,2),G=z[0],H=z[1],K=l.useState(null),Q=(0,s.Z)(K,2),U=Q[0],X=Q[1];(0,l.useEffect)((function(){e&&(S.Z.get("".concat(E.BC,"/manager/onboarding/").concat(e.company,"?key=managerId&value=").concat(e.uid)).then((function(e){W(e.data)})),S.Z.get("".concat(E.BC,"/manager/onboarding/").concat(e.company,"?key=managerEmail&value=").concat(e.email)).then((function(e){O(e.data)})))}),[e]),(0,l.useEffect)((function(){e&&X((function(){var n={};return M.forEach((function(r,i){var a=r.managers[r.managers.findIndex((function(n){return n.managerEmail===e.email}))];n[i]=a.response})),n}))}),[M]);var Y=l.useState(!1),$=(0,s.Z)(Y,2),ee=$[0],ne=$[1],re=function(){ne(!1)},ie=function(n,r,s,l){return function(t){var c={id:r,managerEmail:e.email,response:n};S.Z.post("".concat(E.BC,"/manager/onboarding/approval"),{payload:c}).then((function(e){X((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},s,e.data.managers[l].response))}))}))}},ae=l.useRef(null);return l.useEffect((function(){if(ee){var e=ae.current;null!==e&&e.focus()}}),[ee]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(t.Z,{open:ee,onClose:re,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:G&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.Z,{id:"scroll-dialog-title",children:(0,P.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)("div",{children:"Manager Responses"}),(0,P.jsx)("div",{children:(0,P.jsxs)(d.Z,{variant:"overline",children:["\xa0\xa0\xa0By:\xa0\xa0\xa0",G.position.manager,(0,P.jsx)("br",{}),"For:\xa0\xa0\xa0","".concat(G.personal.firstName+" "+G.personal.lastName)]})})]})}),(0,P.jsx)(x.Z,{dividers:"paper"===scroll,children:(0,P.jsx)(h.Z,{id:"scroll-dialog-description",ref:ae,tabIndex:-1,children:(0,P.jsx)(Z.Z,{component:j.Z,children:(0,P.jsxs)(u.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(m.Z,{children:(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",children:"Manager"}),(0,P.jsx)(p.Z,{align:"center",children:"Response"})]})}),(0,P.jsx)(f.Z,{children:G.managers.map((function(e){var n=e.managerEmail,r=e.response;return(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:n})}),(0,P.jsx)(p.Z,{align:"center",variant:"h6",children:(0,P.jsx)(v.Z,{label:r,color:"No Response"===r?"warning":r===A?"success":"error"})})]},n)}))})]})})})}),(0,P.jsx)(b.Z,{children:(0,P.jsx)(w.Z,{onClick:re,children:"Close"})})]})}),(0,P.jsxs)(y.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,P.jsx)(y.ZP,{item:!0,xs:12,children:(0,P.jsx)(d.Z,{sx:{float:"left"},variant:"h3",children:"Track Onboarding Requests"})}),(0,P.jsxs)(y.ZP,{item:!0,xs:12,children:[(0,P.jsx)(k.Z,{children:(0,P.jsxs)(C.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:F,onChange:function(e){return I(e.target.value)},children:[(0,P.jsx)(R.Z,{value:"Requested",control:(0,P.jsx)(N.Z,{}),label:"Requested"}),(0,P.jsx)(R.Z,{value:"Pending Actions",control:(0,P.jsx)(N.Z,{}),label:"Pending Actions"})]})}),(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"Requested"===F?(0,P.jsx)(y.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{component:j.Z,children:(0,P.jsxs)(u.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(m.Z,{children:(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",children:"First Name"}),(0,P.jsx)(p.Z,{align:"center",children:"Last Name"}),(0,P.jsx)(p.Z,{align:"center",children:"Job Title"}),(0,P.jsx)(p.Z,{align:"center",children:"Start Date"}),(0,P.jsx)(p.Z,{align:"center",children:"Status"})]})}),(0,P.jsx)(f.Z,{children:D.map((function(e,n){var r,i;return(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:e.personal.firstName})}),(0,P.jsx)(p.Z,{align:"center",variant:"h6",children:e.personal.lastName}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:e.position.empType})}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:e.position.start})}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(w.Z,{disabled:!e.managers.length,sx:{mr:1},variant:"contained",color:"primary",onClick:(i=e,function(){ne(!0),H(i)}),children:null!==(r=e.managers)&&void 0!==r&&r.length?"View":"No Delegations"})})]},n)}))})]})})}):"Pending Actions"===F?(0,P.jsx)(y.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.Z,{component:j.Z,children:(0,P.jsxs)(u.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(m.Z,{children:(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",children:"First Name"}),(0,P.jsx)(p.Z,{align:"center",children:"Last Name"}),(0,P.jsx)(p.Z,{align:"center",children:"Job Title"}),(0,P.jsx)(p.Z,{align:"center",children:"Reporter"}),(0,P.jsx)(p.Z,{align:"center",children:"Start Date"}),(0,P.jsx)(p.Z,{align:"center",children:"Status"})]})}),(0,P.jsx)(f.Z,{children:U&&M.map((function(n,r){var i=n.managers.findIndex((function(n){return n.managerEmail===e.email})),a=U[r]===A,s=U[r]===q;return(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(p.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:n.personal.firstName})}),(0,P.jsx)(p.Z,{align:"center",variant:"h6",children:n.personal.lastName}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.empType})}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.manager})}),(0,P.jsx)(p.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.start})}),(0,P.jsxs)(p.Z,{align:"center",children:[(0,P.jsx)(w.Z,{sx:{mr:1,width:"70px"},variant:a?"contained":"outlined",color:a?"success":"secondary",onClick:a?function(){return null}:ie(A,n._id,r,i),children:a?"Accepted":"Accept"}),(0,P.jsx)(w.Z,{sx:{width:"70px"},variant:s?"contained":"outlined",color:s?"error":"secondary",onClick:s?function(){return null}:ie(q,n._id,r,i),children:s?"Rejected":"Reject"})]})]},r)}))})]})})}):null]})]})]})}}}]);
//# sourceMappingURL=2828.22f61152.chunk.js.map