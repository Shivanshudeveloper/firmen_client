{"version":3,"file":"static/js/78.7d4611cd.chunk.js","mappings":"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","sources":["../node_modules/@firebase/functions/src/api/error.ts","../node_modules/@firebase/functions/src/context.ts","../node_modules/@firebase/functions/src/serializer.ts","../node_modules/@firebase/functions/src/api/service.ts","../node_modules/@firebase/functions/src/config.ts","../node_modules/@firebase/functions/index.ts","../node_modules/@firebase/functions/node_modules/tslib/tslib.es6.js","../node_modules/@firebase/performance/src/services/api_service.ts","../node_modules/@firebase/performance/src/constants.ts","../node_modules/@firebase/performance/src/utils/errors.ts","../node_modules/@firebase/performance/src/utils/console_logger.ts","../node_modules/@firebase/performance/src/services/settings_service.ts","../node_modules/@firebase/performance/src/utils/string_merger.ts","../node_modules/@firebase/performance/src/services/iid_service.ts","../node_modules/@firebase/performance/src/utils/attributes_utils.ts","../node_modules/@firebase/performance/src/services/remote_config_service.ts","../node_modules/@firebase/performance/src/services/initialization_service.ts","../node_modules/@firebase/performance/src/services/transport_service.ts","../node_modules/@firebase/performance/src/services/perf_logger.ts","../node_modules/@firebase/performance/src/utils/metric_utils.ts","../node_modules/@firebase/performance/src/resources/trace.ts","../node_modules/@firebase/performance/src/resources/network_request.ts","../node_modules/@firebase/performance/src/services/oob_resources_service.ts","../node_modules/@firebase/performance/src/controllers/perf.ts","../node_modules/@firebase/performance/index.ts","../node_modules/@firebase/performance/node_modules/tslib/tslib.es6.js","../node_modules/@firebase/remote-config/src/client/caching_client.ts","../node_modules/@firebase/remote-config/src/errors.ts","../node_modules/@firebase/remote-config/src/client/rest_client.ts","../node_modules/@firebase/remote-config/src/language.ts","../node_modules/@firebase/remote-config/src/client/remote_config_fetch_client.ts","../node_modules/@firebase/remote-config/src/value.ts","../node_modules/@firebase/remote-config/src/remote_config.ts","../node_modules/@firebase/remote-config/src/storage/storage.ts","../node_modules/@firebase/remote-config/src/storage/storage_cache.ts","../node_modules/@firebase/remote-config/src/client/retrying_client.ts","../node_modules/@firebase/remote-config/index.ts","../node_modules/@firebase/remote-config/node_modules/tslib/tslib.es6.js","../node_modules/@mui/icons-material/Add.js","../node_modules/@mui/icons-material/Assignment.js","../node_modules/@mui/icons-material/Delete.js","../node_modules/@mui/icons-material/People.js","../node_modules/@mui/material/CardContent/cardContentClasses.js","../node_modules/@mui/material/CardContent/CardContent.js","../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js","../node_modules/@mui/material/DialogActions/dialogActionsClasses.js","../node_modules/@mui/material/DialogActions/DialogActions.js","../node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js","../node_modules/@mui/material/DialogContentText/DialogContentText.js","../node_modules/@mui/material/DialogContent/dialogContentClasses.js","../node_modules/@mui/material/DialogContent/DialogContent.js","../node_modules/@mui/material/DialogTitle/DialogTitle.js","../node_modules/@mui/material/DialogTitle/dialogTitleClasses.js","../node_modules/@mui/material/ListItemAvatar/listItemAvatarClasses.js","../node_modules/@mui/material/ListItemAvatar/ListItemAvatar.js","../node_modules/firebase/app/index.ts","../node_modules/firebase/src/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { HttpsError, FunctionsErrorCode } from '@firebase/functions-types';\nimport { Serializer } from '../serializer';\nimport { HttpResponseBody } from './service';\n\n/**\n * Standard error codes for different ways a request can fail, as defined by:\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\n *\n * This map is used primarily to convert from a backend error code string to\n * a client SDK error code string, and make sure it's in the supported set.\n */\nconst errorCodeMap: { [name: string]: FunctionsErrorCode } = {\n  OK: 'ok',\n  CANCELLED: 'cancelled',\n  UNKNOWN: 'unknown',\n  INVALID_ARGUMENT: 'invalid-argument',\n  DEADLINE_EXCEEDED: 'deadline-exceeded',\n  NOT_FOUND: 'not-found',\n  ALREADY_EXISTS: 'already-exists',\n  PERMISSION_DENIED: 'permission-denied',\n  UNAUTHENTICATED: 'unauthenticated',\n  RESOURCE_EXHAUSTED: 'resource-exhausted',\n  FAILED_PRECONDITION: 'failed-precondition',\n  ABORTED: 'aborted',\n  OUT_OF_RANGE: 'out-of-range',\n  UNIMPLEMENTED: 'unimplemented',\n  INTERNAL: 'internal',\n  UNAVAILABLE: 'unavailable',\n  DATA_LOSS: 'data-loss'\n};\n\n/**\n * An explicit error that can be thrown from a handler to send an error to the\n * client that called the function.\n */\nexport class HttpsErrorImpl extends Error implements HttpsError {\n  /**\n   * A standard error code that will be returned to the client. This also\n   * determines the HTTP status code of the response, as defined in code.proto.\n   */\n  readonly code: FunctionsErrorCode;\n\n  /**\n   * Extra data to be converted to JSON and included in the error response.\n   */\n  readonly details?: unknown;\n\n  constructor(code: FunctionsErrorCode, message?: string, details?: unknown) {\n    super(message);\n\n    // This is a workaround for a bug in TypeScript when extending Error:\n    // tslint:disable-next-line\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, HttpsErrorImpl.prototype);\n\n    this.code = code;\n    this.details = details;\n  }\n}\n\n/**\n * Takes an HTTP status code and returns the corresponding ErrorCode.\n * This is the standard HTTP status code -> error mapping defined in:\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\n *\n * @param status An HTTP status code.\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\n */\nfunction codeForHTTPStatus(status: number): FunctionsErrorCode {\n  // Make sure any successful status is OK.\n  if (status >= 200 && status < 300) {\n    return 'ok';\n  }\n  switch (status) {\n    case 0:\n      // This can happen if the server returns 500.\n      return 'internal';\n    case 400:\n      return 'invalid-argument';\n    case 401:\n      return 'unauthenticated';\n    case 403:\n      return 'permission-denied';\n    case 404:\n      return 'not-found';\n    case 409:\n      return 'aborted';\n    case 429:\n      return 'resource-exhausted';\n    case 499:\n      return 'cancelled';\n    case 500:\n      return 'internal';\n    case 501:\n      return 'unimplemented';\n    case 503:\n      return 'unavailable';\n    case 504:\n      return 'deadline-exceeded';\n    default: // ignore\n  }\n  return 'unknown';\n}\n\n/**\n * Takes an HTTP response and returns the corresponding Error, if any.\n */\nexport function _errorForResponse(\n  status: number,\n  bodyJSON: HttpResponseBody | null,\n  serializer: Serializer\n): Error | null {\n  let code = codeForHTTPStatus(status);\n\n  // Start with reasonable defaults from the status code.\n  let description: string = code;\n\n  let details: unknown = undefined;\n\n  // Then look through the body for explicit details.\n  try {\n    const errorJSON = bodyJSON && bodyJSON.error;\n    if (errorJSON) {\n      const status = errorJSON.status;\n      if (typeof status === 'string') {\n        if (!errorCodeMap[status]) {\n          // They must've included an unknown error code in the body.\n          return new HttpsErrorImpl('internal', 'internal');\n        }\n        code = errorCodeMap[status];\n\n        // TODO(klimt): Add better default descriptions for error enums.\n        // The default description needs to be updated for the new code.\n        description = status;\n      }\n\n      const message = errorJSON.message;\n      if (typeof message === 'string') {\n        description = message;\n      }\n\n      details = errorJSON.details;\n      if (details !== undefined) {\n        details = serializer.decode(details);\n      }\n    }\n  } catch (e) {\n    // If we couldn't parse explicit error data, that's fine.\n  }\n\n  if (code === 'ok') {\n    // Technically, there's an edge case where a developer could explicitly\n    // return an error code of OK, and we will treat it as success, but that\n    // seems reasonable.\n    return null;\n  }\n\n  return new HttpsErrorImpl(code, description, details);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { _FirebaseApp } from '@firebase/app-types/private';\nimport {\n  FirebaseMessaging,\n  FirebaseMessagingName\n} from '@firebase/messaging-types';\nimport {\n  FirebaseAuthInternal,\n  FirebaseAuthInternalName\n} from '@firebase/auth-interop-types';\nimport { Provider } from '@firebase/component';\n\n/**\n * The metadata that should be supplied with function calls.\n */\nexport interface Context {\n  authToken?: string;\n  instanceIdToken?: string;\n}\n\n/**\n * Helper class to get metadata that should be included with a function call.\n */\nexport class ContextProvider {\n  private auth: FirebaseAuthInternal | null = null;\n  private messaging: FirebaseMessaging | null = null;\n  constructor(\n    authProvider: Provider<FirebaseAuthInternalName>,\n    messagingProvider: Provider<FirebaseMessagingName>\n  ) {\n    this.auth = authProvider.getImmediate({ optional: true });\n    this.messaging = messagingProvider.getImmediate({\n      optional: true\n    });\n\n    if (!this.auth) {\n      authProvider.get().then(\n        auth => (this.auth = auth),\n        () => {\n          /* get() never rejects */\n        }\n      );\n    }\n\n    if (!this.messaging) {\n      messagingProvider.get().then(\n        messaging => (this.messaging = messaging),\n        () => {\n          /* get() never rejects */\n        }\n      );\n    }\n  }\n\n  async getAuthToken(): Promise<string | undefined> {\n    if (!this.auth) {\n      return undefined;\n    }\n\n    try {\n      const token = await this.auth.getToken();\n      if (!token) {\n        return undefined;\n      }\n      return token.accessToken;\n    } catch (e) {\n      // If there's any error when trying to get the auth token, leave it off.\n      return undefined;\n    }\n  }\n\n  async getInstanceIdToken(): Promise<string | undefined> {\n    if (\n      !this.messaging ||\n      !('Notification' in self) ||\n      Notification.permission !== 'granted'\n    ) {\n      return undefined;\n    }\n\n    try {\n      return this.messaging.getToken();\n    } catch (e) {\n      // We don't warn on this, because it usually means messaging isn't set up.\n      // console.warn('Failed to retrieve instance id token.', e);\n\n      // If there's any error when trying to get the token, leave it off.\n      return undefined;\n    }\n  }\n\n  async getContext(): Promise<Context> {\n    const authToken = await this.getAuthToken();\n    const instanceIdToken = await this.getInstanceIdToken();\n    return { authToken, instanceIdToken };\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\nconst UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\n\nfunction mapValues(\n  // { [k: string]: unknown } is no longer a wildcard assignment target after typescript 3.5\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  o: { [key: string]: any },\n  f: (arg0: unknown) => unknown\n): object {\n  const result: { [key: string]: unknown } = {};\n  for (const key in o) {\n    if (o.hasOwnProperty(key)) {\n      result[key] = f(o[key]);\n    }\n  }\n  return result;\n}\n\nexport class Serializer {\n  // Takes data and encodes it in a JSON-friendly way, such that types such as\n  // Date are preserved.\n  encode(data: unknown): unknown {\n    if (data == null) {\n      return null;\n    }\n    if (data instanceof Number) {\n      data = data.valueOf();\n    }\n    if (typeof data === 'number' && isFinite(data)) {\n      // Any number in JS is safe to put directly in JSON and parse as a double\n      // without any loss of precision.\n      return data;\n    }\n    if (data === true || data === false) {\n      return data;\n    }\n    if (Object.prototype.toString.call(data) === '[object String]') {\n      return data;\n    }\n    if (Array.isArray(data)) {\n      return data.map(x => this.encode(x));\n    }\n    if (typeof data === 'function' || typeof data === 'object') {\n      return mapValues(data!, x => this.encode(x));\n    }\n    // If we got this far, the data is not encodable.\n    throw new Error('Data cannot be encoded in JSON: ' + data);\n  }\n\n  // Takes data that's been encoded in a JSON-friendly form and returns a form\n  // with richer datatypes, such as Dates, etc.\n  decode(json: unknown): unknown {\n    if (json == null) {\n      return json;\n    }\n    if ((json as { [key: string]: unknown })['@type']) {\n      switch ((json as { [key: string]: unknown })['@type']) {\n        case LONG_TYPE:\n        // Fall through and handle this the same as unsigned.\n        case UNSIGNED_LONG_TYPE: {\n          // Technically, this could work return a valid number for malformed\n          // data if there was a number followed by garbage. But it's just not\n          // worth all the extra code to detect that case.\n          const value = Number((json as { [key: string]: unknown })['value']);\n          if (isNaN(value)) {\n            throw new Error('Data cannot be decoded from JSON: ' + json);\n          }\n          return value;\n        }\n        default: {\n          throw new Error('Data cannot be decoded from JSON: ' + json);\n        }\n      }\n    }\n    if (Array.isArray(json)) {\n      return json.map(x => this.decode(x));\n    }\n    if (typeof json === 'function' || typeof json === 'object') {\n      return mapValues(json!, x => this.decode(x));\n    }\n    // Anything else is safe to return.\n    return json;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp } from '@firebase/app-types';\nimport { FirebaseService } from '@firebase/app-types/private';\nimport {\n  FirebaseFunctions,\n  HttpsCallable,\n  HttpsCallableResult,\n  HttpsCallableOptions\n} from '@firebase/functions-types';\nimport { _errorForResponse, HttpsErrorImpl } from './error';\nimport { ContextProvider } from '../context';\nimport { Serializer } from '../serializer';\nimport { Provider } from '@firebase/component';\nimport { FirebaseAuthInternalName } from '@firebase/auth-interop-types';\nimport { FirebaseMessagingName } from '@firebase/messaging-types';\n\n/**\n * The response to an http request.\n */\ninterface HttpResponse {\n  status: number;\n  json: HttpResponseBody | null;\n}\n/**\n * Describes the shape of the HttpResponse body.\n * It makes functions that would otherwise take {} able to access the\n * possible elements in the body more easily\n */\nexport interface HttpResponseBody {\n  data?: unknown;\n  result?: unknown;\n  error?: {\n    message?: unknown;\n    status?: unknown;\n    details?: unknown;\n  };\n}\n\n/**\n * Returns a Promise that will be rejected after the given duration.\n * The error will be of type HttpsErrorImpl.\n *\n * @param millis Number of milliseconds to wait before rejecting.\n */\nfunction failAfter(\n  millis: number\n): {\n  timer: number | NodeJS.Timeout;\n  promise: Promise<never>;\n} {\n  let timer!: number | NodeJS.Timeout;\n  const promise = new Promise<never>((_, reject) => {\n    timer = setTimeout(() => {\n      reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\n    }, millis);\n  });\n\n  return {\n    timer,\n    promise\n  };\n}\n\n/**\n * The main class for the Firebase Functions SDK.\n */\nexport class Service implements FirebaseFunctions, FirebaseService {\n  private readonly contextProvider: ContextProvider;\n  private readonly serializer = new Serializer();\n  private emulatorOrigin: string | null = null;\n  private cancelAllRequests: Promise<void>;\n  private deleteService!: () => void;\n  private region: string;\n  private customDomain: string | null;\n\n  /**\n   * Creates a new Functions service for the given app and (optional) region or custom domain.\n   * @param app_ The FirebaseApp to use.\n   * @param regionOrCustomDomain_ one of:\n   *   a) A region to call functions from, such as us-central1\n   *   b) A custom domain to use as a functions prefix, such as https://mydomain.com\n   */\n  constructor(\n    private app_: FirebaseApp,\n    authProvider: Provider<FirebaseAuthInternalName>,\n    messagingProvider: Provider<FirebaseMessagingName>,\n    regionOrCustomDomain_: string = 'us-central1',\n    readonly fetchImpl: typeof fetch\n  ) {\n    this.contextProvider = new ContextProvider(authProvider, messagingProvider);\n    // Cancels all ongoing requests when resolved.\n    this.cancelAllRequests = new Promise(resolve => {\n      this.deleteService = () => {\n        return resolve();\n      };\n    });\n\n    // Resolve the region or custom domain overload by attempting to parse it.\n    try {\n      const url = new URL(regionOrCustomDomain_);\n      this.customDomain = url.origin;\n      this.region = 'us-central1';\n    } catch (e) {\n      this.customDomain = null;\n      this.region = regionOrCustomDomain_;\n    }\n  }\n\n  get app(): FirebaseApp {\n    return this.app_;\n  }\n\n  INTERNAL = {\n    delete: (): Promise<void> => {\n      return Promise.resolve(this.deleteService());\n    }\n  };\n\n  /**\n   * Returns the URL for a callable with the given name.\n   * @param name The name of the callable.\n   */\n  _url(name: string): string {\n    const projectId = this.app_.options.projectId;\n    if (this.emulatorOrigin !== null) {\n      const origin = this.emulatorOrigin;\n      return `${origin}/${projectId}/${this.region}/${name}`;\n    }\n\n    if (this.customDomain !== null) {\n      return `${this.customDomain}/${name}`;\n    }\n\n    return `https://${this.region}-${projectId}.cloudfunctions.net/${name}`;\n  }\n\n  /**\n   * Changes this instance to point to a Cloud Functions emulator running\n   * locally. See https://firebase.google.com/docs/functions/local-emulator\n   *\n   * @param origin The origin of the local emulator, such as\n   * \"http://localhost:5005\".\n   */\n  useFunctionsEmulator(origin: string): void {\n    this.emulatorOrigin = origin;\n  }\n\n  /**\n   * Returns a reference to the callable https trigger with the given name.\n   * @param name The name of the trigger.\n   */\n  httpsCallable(name: string, options?: HttpsCallableOptions): HttpsCallable {\n    return data => {\n      return this.call(name, data, options || {});\n    };\n  }\n\n  /**\n   * Does an HTTP POST and returns the completed response.\n   * @param url The url to post to.\n   * @param body The JSON body of the post.\n   * @param headers The HTTP headers to include in the request.\n   * @return A Promise that will succeed when the request finishes.\n   */\n  private async postJSON(\n    url: string,\n    body: {},\n    headers: { [key: string]: string }\n  ): Promise<HttpResponse> {\n    headers['Content-Type'] = 'application/json';\n\n    let response: Response;\n    try {\n      response = await this.fetchImpl(url, {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers\n      });\n    } catch (e) {\n      // This could be an unhandled error on the backend, or it could be a\n      // network error. There's no way to know, since an unhandled error on the\n      // backend will fail to set the proper CORS header, and thus will be\n      // treated as a network error by fetch.\n      return {\n        status: 0,\n        json: null\n      };\n    }\n    let json: HttpResponseBody | null = null;\n    try {\n      json = await response.json();\n    } catch (e) {\n      // If we fail to parse JSON, it will fail the same as an empty body.\n    }\n    return {\n      status: response.status,\n      json\n    };\n  }\n\n  /**\n   * Calls a callable function asynchronously and returns the result.\n   * @param name The name of the callable trigger.\n   * @param data The data to pass as params to the function.s\n   */\n  private async call(\n    name: string,\n    data: unknown,\n    options: HttpsCallableOptions\n  ): Promise<HttpsCallableResult> {\n    const url = this._url(name);\n\n    // Encode any special types, such as dates, in the input data.\n    data = this.serializer.encode(data);\n    const body = { data };\n\n    // Add a header for the authToken.\n    const headers: { [key: string]: string } = {};\n    const context = await this.contextProvider.getContext();\n    if (context.authToken) {\n      headers['Authorization'] = 'Bearer ' + context.authToken;\n    }\n    if (context.instanceIdToken) {\n      headers['Firebase-Instance-ID-Token'] = context.instanceIdToken;\n    }\n\n    // Default timeout to 70s, but let the options override it.\n    const timeout = options.timeout || 70000;\n\n    const { timer, promise: failAfterPromise } = failAfter(timeout);\n\n    const response = await Promise.race([\n      clearTimeoutWrapper(timer, this.postJSON(url, body, headers)),\n      failAfterPromise,\n      clearTimeoutWrapper(timer, this.cancelAllRequests)\n    ]);\n\n    // If service was deleted, interrupted response throws an error.\n    if (!response) {\n      throw new HttpsErrorImpl(\n        'cancelled',\n        'Firebase Functions instance was deleted.'\n      );\n    }\n\n    // Check for an error status, regardless of http status.\n    const error = _errorForResponse(\n      response.status,\n      response.json,\n      this.serializer\n    );\n    if (error) {\n      throw error;\n    }\n\n    if (!response.json) {\n      throw new HttpsErrorImpl(\n        'internal',\n        'Response is not valid JSON object.'\n      );\n    }\n\n    let responseData = response.json.data;\n    // TODO(klimt): For right now, allow \"result\" instead of \"data\", for\n    // backwards compatibility.\n    if (typeof responseData === 'undefined') {\n      responseData = response.json.result;\n    }\n    if (typeof responseData === 'undefined') {\n      // Consider the response malformed.\n      throw new HttpsErrorImpl('internal', 'Response is missing data field.');\n    }\n\n    // Decode any special types, such as dates, in the returned data.\n    const decodedData = this.serializer.decode(responseData);\n\n    return { data: decodedData };\n  }\n}\n\nasync function clearTimeoutWrapper<T>(\n  timer: number | NodeJS.Timeout,\n  promise: Promise<T>\n): Promise<T> {\n  const result = await promise;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  clearTimeout(timer as any);\n  return result;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Service } from './api/service';\nimport {\n  Component,\n  ComponentType,\n  ComponentContainer\n} from '@firebase/component';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\n\n/**\n * Type constant for Firebase Functions.\n */\nconst FUNCTIONS_TYPE = 'functions';\n\nexport function registerFunctions(\n  instance: _FirebaseNamespace,\n  fetchImpl: typeof fetch\n): void {\n  const namespaceExports = {\n    // no-inline\n    Functions: Service\n  };\n\n  function factory(\n    container: ComponentContainer,\n    regionOrCustomDomain?: string\n  ): Service {\n    // Dependencies\n    const app = container.getProvider('app').getImmediate();\n    const authProvider = container.getProvider('auth-internal');\n    const messagingProvider = container.getProvider('messaging');\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new Service(\n      app,\n      authProvider,\n      messagingProvider,\n      regionOrCustomDomain,\n      fetchImpl\n    );\n  }\n  instance.INTERNAL.registerComponent(\n    new Component(FUNCTIONS_TYPE, factory, ComponentType.PUBLIC)\n      .setServiceProps(namespaceExports)\n      .setMultipleInstances(true)\n  );\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport firebase from '@firebase/app';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\nimport * as types from '@firebase/functions-types';\nimport { registerFunctions } from './src/config';\n\nimport { name, version } from './package.json';\n\nregisterFunctions(firebase as _FirebaseNamespace, fetch.bind(self));\nfirebase.registerVersion(name, version);\n\ndeclare module '@firebase/app-types' {\n  interface FirebaseNamespace {\n    functions?: {\n      (app?: FirebaseApp): types.FirebaseFunctions;\n      Functions: typeof types.FirebaseFunctions;\n    };\n  }\n  interface FirebaseApp {\n    functions?(regionOrCustomDomain?: string): types.FirebaseFunctions;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from '../utils/errors';\nimport { isIndexedDBAvailable } from '@firebase/util';\nimport { consoleLogger } from '../utils/console_logger';\ndeclare global {\n  interface Window {\n    PerformanceObserver: typeof PerformanceObserver;\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    perfMetrics?: { onFirstInputDelay: Function };\n  }\n}\n\nlet apiInstance: Api | undefined;\nlet windowInstance: Window | undefined;\n\nexport type EntryType =\n  | 'mark'\n  | 'measure'\n  | 'paint'\n  | 'resource'\n  | 'frame'\n  | 'navigation';\n\n/**\n * This class holds a reference to various browser related objects injected by\n * set methods.\n */\nexport class Api {\n  private readonly performance: Performance;\n  /** PreformanceObserver constructor function. */\n  private readonly PerformanceObserver: typeof PerformanceObserver;\n  private readonly windowLocation: Location;\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  readonly onFirstInputDelay?: Function;\n  readonly localStorage?: Storage;\n  readonly document: Document;\n  readonly navigator: Navigator;\n\n  constructor(readonly window?: Window) {\n    if (!window) {\n      throw ERROR_FACTORY.create(ErrorCode.NO_WINDOW);\n    }\n    this.performance = window.performance;\n    this.PerformanceObserver = window.PerformanceObserver;\n    this.windowLocation = window.location;\n    this.navigator = window.navigator;\n    this.document = window.document;\n    if (this.navigator && this.navigator.cookieEnabled) {\n      // If user blocks cookies on the browser, accessing localStorage will\n      // throw an exception.\n      this.localStorage = window.localStorage;\n    }\n    if (window.perfMetrics && window.perfMetrics.onFirstInputDelay) {\n      this.onFirstInputDelay = window.perfMetrics.onFirstInputDelay;\n    }\n  }\n\n  getUrl(): string {\n    // Do not capture the string query part of url.\n    return this.windowLocation.href.split('?')[0];\n  }\n\n  mark(name: string): void {\n    if (!this.performance || !this.performance.mark) {\n      return;\n    }\n    this.performance.mark(name);\n  }\n\n  measure(measureName: string, mark1: string, mark2: string): void {\n    if (!this.performance || !this.performance.measure) {\n      return;\n    }\n    this.performance.measure(measureName, mark1, mark2);\n  }\n\n  getEntriesByType(type: EntryType): PerformanceEntry[] {\n    if (!this.performance || !this.performance.getEntriesByType) {\n      return [];\n    }\n    return this.performance.getEntriesByType(type);\n  }\n\n  getEntriesByName(name: string): PerformanceEntry[] {\n    if (!this.performance || !this.performance.getEntriesByName) {\n      return [];\n    }\n    return this.performance.getEntriesByName(name);\n  }\n\n  getTimeOrigin(): number {\n    // Polyfill the time origin with performance.timing.navigationStart.\n    return (\n      this.performance &&\n      (this.performance.timeOrigin || this.performance.timing.navigationStart)\n    );\n  }\n\n  requiredApisAvailable(): boolean {\n    if (\n      !fetch ||\n      !Promise ||\n      !this.navigator ||\n      !this.navigator.cookieEnabled\n    ) {\n      consoleLogger.info(\n        'Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.'\n      );\n      return false;\n    }\n\n    if (!isIndexedDBAvailable()) {\n      consoleLogger.info('IndexedDB is not supported by current browswer');\n      return false;\n    }\n    return true;\n  }\n\n  setupObserver(\n    entryType: EntryType,\n    callback: (entry: PerformanceEntry) => void\n  ): void {\n    if (!this.PerformanceObserver) {\n      return;\n    }\n    const observer = new this.PerformanceObserver(list => {\n      for (const entry of list.getEntries()) {\n        // `entry` is a PerformanceEntry instance.\n        callback(entry);\n      }\n    });\n\n    // Start observing the entry types you care about.\n    observer.observe({ entryTypes: [entryType] });\n  }\n\n  static getInstance(): Api {\n    if (apiInstance === undefined) {\n      apiInstance = new Api(windowInstance);\n    }\n    return apiInstance;\n  }\n}\n\nexport function setupApi(window: Window): void {\n  windowInstance = window;\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { version } from '../package.json';\n\nexport const SDK_VERSION = version;\n/** The prefix for start User Timing marks used for creating Traces. */\nexport const TRACE_START_MARK_PREFIX = 'FB-PERF-TRACE-START';\n/** The prefix for stop User Timing marks used for creating Traces. */\nexport const TRACE_STOP_MARK_PREFIX = 'FB-PERF-TRACE-STOP';\n/** The prefix for User Timing measure used for creating Traces. */\nexport const TRACE_MEASURE_PREFIX = 'FB-PERF-TRACE-MEASURE';\n/** The prefix for out of the box page load Trace name. */\nexport const OOB_TRACE_PAGE_LOAD_PREFIX = '_wt_';\n\nexport const FIRST_PAINT_COUNTER_NAME = '_fp';\n\nexport const FIRST_CONTENTFUL_PAINT_COUNTER_NAME = '_fcp';\n\nexport const FIRST_INPUT_DELAY_COUNTER_NAME = '_fid';\n\nexport const CONFIG_LOCAL_STORAGE_KEY = '@firebase/performance/config';\n\nexport const CONFIG_EXPIRY_LOCAL_STORAGE_KEY =\n  '@firebase/performance/configexpire';\n\nexport const SERVICE = 'performance';\nexport const SERVICE_NAME = 'Performance';\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory } from '@firebase/util';\nimport { SERVICE, SERVICE_NAME } from '../constants';\n\nexport const enum ErrorCode {\n  TRACE_STARTED_BEFORE = 'trace started',\n  TRACE_STOPPED_BEFORE = 'trace stopped',\n  NONPOSITIVE_TRACE_START_TIME = 'nonpositive trace startTime',\n  NONPOSITIVE_TRACE_DURATION = 'nonpositive trace duration',\n  NO_WINDOW = 'no window',\n  NO_APP_ID = 'no app id',\n  NO_PROJECT_ID = 'no project id',\n  NO_API_KEY = 'no api key',\n  INVALID_CC_LOG = 'invalid cc log',\n  FB_NOT_DEFAULT = 'FB not default',\n  RC_NOT_OK = 'RC response not ok',\n  INVALID_ATTRIBUTE_NAME = 'invalid attribute name',\n  INVALID_ATTRIBUTE_VALUE = 'invalid attribute value',\n  INVALID_CUSTOM_METRIC_NAME = 'invalid custom metric name',\n  INVALID_STRING_MERGER_PARAMETER = 'invalid String merger input'\n}\n\nconst ERROR_DESCRIPTION_MAP: { readonly [key in ErrorCode]: string } = {\n  [ErrorCode.TRACE_STARTED_BEFORE]: 'Trace {$traceName} was started before.',\n  [ErrorCode.TRACE_STOPPED_BEFORE]: 'Trace {$traceName} is not running.',\n  [ErrorCode.NONPOSITIVE_TRACE_START_TIME]:\n    'Trace {$traceName} startTime should be positive.',\n  [ErrorCode.NONPOSITIVE_TRACE_DURATION]:\n    'Trace {$traceName} duration should be positive.',\n  [ErrorCode.NO_WINDOW]: 'Window is not available.',\n  [ErrorCode.NO_APP_ID]: 'App id is not available.',\n  [ErrorCode.NO_PROJECT_ID]: 'Project id is not available.',\n  [ErrorCode.NO_API_KEY]: 'Api key is not available.',\n  [ErrorCode.INVALID_CC_LOG]: 'Attempted to queue invalid cc event',\n  [ErrorCode.FB_NOT_DEFAULT]:\n    'Performance can only start when Firebase app instance is the default one.',\n  [ErrorCode.RC_NOT_OK]: 'RC response is not ok',\n  [ErrorCode.INVALID_ATTRIBUTE_NAME]:\n    'Attribute name {$attributeName} is invalid.',\n  [ErrorCode.INVALID_ATTRIBUTE_VALUE]:\n    'Attribute value {$attributeValue} is invalid.',\n  [ErrorCode.INVALID_CUSTOM_METRIC_NAME]:\n    'Custom metric name {$customMetricName} is invalid',\n  [ErrorCode.INVALID_STRING_MERGER_PARAMETER]:\n    'Input for String merger is invalid, contact support team to resolve.'\n};\n\ninterface ErrorParams {\n  [ErrorCode.TRACE_STARTED_BEFORE]: { traceName: string };\n  [ErrorCode.TRACE_STOPPED_BEFORE]: { traceName: string };\n  [ErrorCode.NONPOSITIVE_TRACE_START_TIME]: { traceName: string };\n  [ErrorCode.NONPOSITIVE_TRACE_DURATION]: { traceName: string };\n  [ErrorCode.INVALID_ATTRIBUTE_NAME]: { attributeName: string };\n  [ErrorCode.INVALID_ATTRIBUTE_VALUE]: { attributeValue: string };\n  [ErrorCode.INVALID_CUSTOM_METRIC_NAME]: { customMetricName: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<ErrorCode, ErrorParams>(\n  SERVICE,\n  SERVICE_NAME,\n  ERROR_DESCRIPTION_MAP\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Logger, LogLevel } from '@firebase/logger';\nimport { SERVICE_NAME } from '../constants';\n\nexport const consoleLogger = new Logger(SERVICE_NAME);\nconsoleLogger.logLevel = LogLevel.INFO;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp } from '@firebase/app-types';\nimport { ERROR_FACTORY, ErrorCode } from '../utils/errors';\nimport { FirebaseInstallations } from '@firebase/installations-types';\nimport { mergeStrings } from '../utils/string_merger';\n\nlet settingsServiceInstance: SettingsService | undefined;\n\nexport class SettingsService {\n  // The variable which controls logging of automatic traces and HTTP/S network monitoring.\n  instrumentationEnabled = true;\n\n  // The variable which controls logging of custom traces.\n  dataCollectionEnabled = true;\n\n  // Configuration flags set through remote config.\n  loggingEnabled = false;\n  // Sampling rate between 0 and 1.\n  tracesSamplingRate = 1;\n  networkRequestsSamplingRate = 1;\n\n  // Address of logging service.\n  logEndPointUrl =\n    'https://firebaselogging.googleapis.com/v0cc/log?format=json_proto';\n  // Performance event transport endpoint URL which should be compatible with proto3.\n  // New Address for transport service, not configurable via Remote Config.\n  flTransportEndpointUrl = mergeStrings(\n    'hts/frbslgigp.ogepscmv/ieo/eaylg',\n    'tp:/ieaeogn-agolai.o/1frlglgc/o'\n  );\n\n  transportKey = mergeStrings('AzSC8r6ReiGqFMyfvgow', 'Iayx0u-XT3vksVM-pIV');\n\n  // Source type for performance event logs.\n  logSource = 462;\n\n  // Flags which control per session logging of traces and network requests.\n  logTraceAfterSampling = false;\n  logNetworkAfterSampling = false;\n\n  // TTL of config retrieved from remote config in hours.\n  configTimeToLive = 12;\n\n  firebaseAppInstance!: FirebaseApp;\n\n  installationsService!: FirebaseInstallations;\n\n  getAppId(): string {\n    const appId =\n      this.firebaseAppInstance &&\n      this.firebaseAppInstance.options &&\n      this.firebaseAppInstance.options.appId;\n    if (!appId) {\n      throw ERROR_FACTORY.create(ErrorCode.NO_APP_ID);\n    }\n    return appId;\n  }\n\n  getProjectId(): string {\n    const projectId =\n      this.firebaseAppInstance &&\n      this.firebaseAppInstance.options &&\n      this.firebaseAppInstance.options.projectId;\n    if (!projectId) {\n      throw ERROR_FACTORY.create(ErrorCode.NO_PROJECT_ID);\n    }\n    return projectId;\n  }\n\n  getApiKey(): string {\n    const apiKey =\n      this.firebaseAppInstance &&\n      this.firebaseAppInstance.options &&\n      this.firebaseAppInstance.options.apiKey;\n    if (!apiKey) {\n      throw ERROR_FACTORY.create(ErrorCode.NO_API_KEY);\n    }\n    return apiKey;\n  }\n\n  getFlTransportFullUrl(): string {\n    return this.flTransportEndpointUrl.concat('?key=', this.transportKey);\n  }\n\n  static getInstance(): SettingsService {\n    if (settingsServiceInstance === undefined) {\n      settingsServiceInstance = new SettingsService();\n    }\n    return settingsServiceInstance;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ERROR_FACTORY, ErrorCode } from './errors';\n\nexport function mergeStrings(part1: string, part2: string): string {\n  const sizeDiff = part1.length - part2.length;\n  if (sizeDiff < 0 || sizeDiff > 1) {\n    throw ERROR_FACTORY.create(ErrorCode.INVALID_STRING_MERGER_PARAMETER);\n  }\n\n  const resultArray = [];\n  for (let i = 0; i < part1.length; i++) {\n    resultArray.push(part1.charAt(i));\n    if (part2.length > i) {\n      resultArray.push(part2.charAt(i));\n    }\n  }\n\n  return resultArray.join('');\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SettingsService } from './settings_service';\n\nlet iid: string | undefined;\nlet authToken: string | undefined;\n\nexport function getIidPromise(): Promise<string> {\n  const iidPromise = SettingsService.getInstance().installationsService.getId();\n  // eslint-disable-next-line @typescript-eslint/no-floating-promises\n  iidPromise.then((iidVal: string) => {\n    iid = iidVal;\n  });\n  return iidPromise;\n}\n\n// This method should be used after the iid is retrieved by getIidPromise method.\nexport function getIid(): string | undefined {\n  return iid;\n}\n\nexport function getAuthTokenPromise(): Promise<string> {\n  const authTokenPromise = SettingsService.getInstance().installationsService.getToken();\n  // eslint-disable-next-line @typescript-eslint/no-floating-promises\n  authTokenPromise.then((authTokenVal: string) => {\n    authToken = authTokenVal;\n  });\n  return authTokenPromise;\n}\n\nexport function getAuthenticationToken(): string | undefined {\n  return authToken;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Api } from '../services/api_service';\n\n// The values and orders of the following enums should not be changed.\nconst enum ServiceWorkerStatus {\n  UNKNOWN = 0,\n  UNSUPPORTED = 1,\n  CONTROLLED = 2,\n  UNCONTROLLED = 3\n}\n\nexport enum VisibilityState {\n  UNKNOWN = 0,\n  VISIBLE = 1,\n  HIDDEN = 2\n}\n\nconst enum EffectiveConnectionType {\n  UNKNOWN = 0,\n  CONNECTION_SLOW_2G = 1,\n  CONNECTION_2G = 2,\n  CONNECTION_3G = 3,\n  CONNECTION_4G = 4\n}\n\n/**\n * NetworkInformation\n *\n * ref: https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation\n */\ninterface NetworkInformation {\n  readonly effectiveType?: 'slow-2g' | '2g' | '3g' | '4g';\n}\n\ninterface NavigatorWithConnection extends Navigator {\n  readonly connection: NetworkInformation;\n}\n\nconst RESERVED_ATTRIBUTE_PREFIXES = ['firebase_', 'google_', 'ga_'];\nconst ATTRIBUTE_FORMAT_REGEX = new RegExp('^[a-zA-Z]\\\\w*$');\nconst MAX_ATTRIBUTE_NAME_LENGTH = 40;\nconst MAX_ATTRIBUTE_VALUE_LENGTH = 100;\n\nexport function getServiceWorkerStatus(): ServiceWorkerStatus {\n  const navigator = Api.getInstance().navigator;\n  if ('serviceWorker' in navigator) {\n    if (navigator.serviceWorker.controller) {\n      return ServiceWorkerStatus.CONTROLLED;\n    } else {\n      return ServiceWorkerStatus.UNCONTROLLED;\n    }\n  } else {\n    return ServiceWorkerStatus.UNSUPPORTED;\n  }\n}\n\nexport function getVisibilityState(): VisibilityState {\n  const document = Api.getInstance().document;\n  const visibilityState = document.visibilityState;\n  switch (visibilityState) {\n    case 'visible':\n      return VisibilityState.VISIBLE;\n    case 'hidden':\n      return VisibilityState.HIDDEN;\n    default:\n      return VisibilityState.UNKNOWN;\n  }\n}\n\nexport function getEffectiveConnectionType(): EffectiveConnectionType {\n  const navigator = Api.getInstance().navigator;\n  const navigatorConnection = (navigator as NavigatorWithConnection).connection;\n  const effectiveType =\n    navigatorConnection && navigatorConnection.effectiveType;\n  switch (effectiveType) {\n    case 'slow-2g':\n      return EffectiveConnectionType.CONNECTION_SLOW_2G;\n    case '2g':\n      return EffectiveConnectionType.CONNECTION_2G;\n    case '3g':\n      return EffectiveConnectionType.CONNECTION_3G;\n    case '4g':\n      return EffectiveConnectionType.CONNECTION_4G;\n    default:\n      return EffectiveConnectionType.UNKNOWN;\n  }\n}\n\nexport function isValidCustomAttributeName(name: string): boolean {\n  if (name.length === 0 || name.length > MAX_ATTRIBUTE_NAME_LENGTH) {\n    return false;\n  }\n  const matchesReservedPrefix = RESERVED_ATTRIBUTE_PREFIXES.some(prefix =>\n    name.startsWith(prefix)\n  );\n  return !matchesReservedPrefix && !!name.match(ATTRIBUTE_FORMAT_REGEX);\n}\n\nexport function isValidCustomAttributeValue(value: string): boolean {\n  return value.length !== 0 && value.length <= MAX_ATTRIBUTE_VALUE_LENGTH;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CONFIG_EXPIRY_LOCAL_STORAGE_KEY,\n  CONFIG_LOCAL_STORAGE_KEY,\n  SDK_VERSION\n} from '../constants';\nimport { consoleLogger } from '../utils/console_logger';\nimport { ERROR_FACTORY, ErrorCode } from '../utils/errors';\n\nimport { Api } from './api_service';\nimport { getAuthTokenPromise } from './iid_service';\nimport { SettingsService } from './settings_service';\n\nconst REMOTE_CONFIG_SDK_VERSION = '0.0.1';\n\ninterface SecondaryConfig {\n  loggingEnabled?: boolean;\n  logSource?: number;\n  logEndPointUrl?: string;\n  transportKey?: string;\n  tracesSamplingRate?: number;\n  networkRequestsSamplingRate?: number;\n}\n\n// These values will be used if the remote config object is successfully\n// retrieved, but the template does not have these fields.\nconst DEFAULT_CONFIGS: SecondaryConfig = {\n  loggingEnabled: true\n};\n\n/* eslint-disable camelcase */\ninterface RemoteConfigTemplate {\n  fpr_enabled?: string;\n  fpr_log_source?: string;\n  fpr_log_endpoint_url?: string;\n  fpr_log_transport_key?: string;\n  fpr_log_transport_web_percent?: string;\n  fpr_vc_network_request_sampling_rate?: string;\n  fpr_vc_trace_sampling_rate?: string;\n  fpr_vc_session_sampling_rate?: string;\n}\n/* eslint-enable camelcase */\n\ninterface RemoteConfigResponse {\n  entries?: RemoteConfigTemplate;\n  state?: string;\n}\n\nconst FIS_AUTH_PREFIX = 'FIREBASE_INSTALLATIONS_AUTH';\n\nexport function getConfig(iid: string): Promise<void> {\n  const config = getStoredConfig();\n  if (config) {\n    processConfig(config);\n    return Promise.resolve();\n  }\n\n  return getRemoteConfig(iid)\n    .then(processConfig)\n    .then(\n      config => storeConfig(config),\n      /** Do nothing for error, use defaults set in settings service. */\n      () => {}\n    );\n}\n\nfunction getStoredConfig(): RemoteConfigResponse | undefined {\n  const localStorage = Api.getInstance().localStorage;\n  if (!localStorage) {\n    return;\n  }\n  const expiryString = localStorage.getItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY);\n  if (!expiryString || !configValid(expiryString)) {\n    return;\n  }\n\n  const configStringified = localStorage.getItem(CONFIG_LOCAL_STORAGE_KEY);\n  if (!configStringified) {\n    return;\n  }\n  try {\n    const configResponse: RemoteConfigResponse = JSON.parse(configStringified);\n    return configResponse;\n  } catch {\n    return;\n  }\n}\n\nfunction storeConfig(config: RemoteConfigResponse | undefined): void {\n  const localStorage = Api.getInstance().localStorage;\n  if (!config || !localStorage) {\n    return;\n  }\n\n  localStorage.setItem(CONFIG_LOCAL_STORAGE_KEY, JSON.stringify(config));\n  localStorage.setItem(\n    CONFIG_EXPIRY_LOCAL_STORAGE_KEY,\n    String(\n      Date.now() +\n        SettingsService.getInstance().configTimeToLive * 60 * 60 * 1000\n    )\n  );\n}\n\nconst COULD_NOT_GET_CONFIG_MSG =\n  'Could not fetch config, will use default configs';\n\nfunction getRemoteConfig(\n  iid: string\n): Promise<RemoteConfigResponse | undefined> {\n  // Perf needs auth token only to retrieve remote config.\n  return getAuthTokenPromise()\n    .then(authToken => {\n      const projectId = SettingsService.getInstance().getProjectId();\n      const configEndPoint = `https://firebaseremoteconfig.googleapis.com/v1/projects/${projectId}/namespaces/fireperf:fetch?key=${SettingsService.getInstance().getApiKey()}`;\n      const request = new Request(configEndPoint, {\n        method: 'POST',\n        headers: { Authorization: `${FIS_AUTH_PREFIX} ${authToken}` },\n        /* eslint-disable camelcase */\n        body: JSON.stringify({\n          app_instance_id: iid,\n          app_instance_id_token: authToken,\n          app_id: SettingsService.getInstance().getAppId(),\n          app_version: SDK_VERSION,\n          sdk_version: REMOTE_CONFIG_SDK_VERSION\n        })\n        /* eslint-enable camelcase */\n      });\n      return fetch(request).then(response => {\n        if (response.ok) {\n          return response.json() as RemoteConfigResponse;\n        }\n        // In case response is not ok. This will be caught by catch.\n        throw ERROR_FACTORY.create(ErrorCode.RC_NOT_OK);\n      });\n    })\n    .catch(() => {\n      consoleLogger.info(COULD_NOT_GET_CONFIG_MSG);\n      return undefined;\n    });\n}\n\n/**\n * Processes config coming either from calling RC or from local storage.\n * This method only runs if call is successful or config in storage\n * is valid.\n */\nfunction processConfig(\n  config?: RemoteConfigResponse\n): RemoteConfigResponse | undefined {\n  if (!config) {\n    return config;\n  }\n  const settingsServiceInstance = SettingsService.getInstance();\n  const entries = config.entries || {};\n  if (entries.fpr_enabled !== undefined) {\n    // TODO: Change the assignment of loggingEnabled once the received type is\n    // known.\n    settingsServiceInstance.loggingEnabled =\n      String(entries.fpr_enabled) === 'true';\n  } else if (DEFAULT_CONFIGS.loggingEnabled !== undefined) {\n    // Config retrieved successfully, but there is no fpr_enabled in template.\n    // Use secondary configs value.\n    settingsServiceInstance.loggingEnabled = DEFAULT_CONFIGS.loggingEnabled;\n  }\n  if (entries.fpr_log_source) {\n    settingsServiceInstance.logSource = Number(entries.fpr_log_source);\n  } else if (DEFAULT_CONFIGS.logSource) {\n    settingsServiceInstance.logSource = DEFAULT_CONFIGS.logSource;\n  }\n\n  if (entries.fpr_log_endpoint_url) {\n    settingsServiceInstance.logEndPointUrl = entries.fpr_log_endpoint_url;\n  } else if (DEFAULT_CONFIGS.logEndPointUrl) {\n    settingsServiceInstance.logEndPointUrl = DEFAULT_CONFIGS.logEndPointUrl;\n  }\n\n  // Key from Remote Config has to be non-empty string, otherwsie use local value.\n  if (entries.fpr_log_transport_key) {\n    settingsServiceInstance.transportKey = entries.fpr_log_transport_key;\n  } else if (DEFAULT_CONFIGS.transportKey) {\n    settingsServiceInstance.transportKey = DEFAULT_CONFIGS.transportKey;\n  }\n\n  if (entries.fpr_vc_network_request_sampling_rate !== undefined) {\n    settingsServiceInstance.networkRequestsSamplingRate = Number(\n      entries.fpr_vc_network_request_sampling_rate\n    );\n  } else if (DEFAULT_CONFIGS.networkRequestsSamplingRate !== undefined) {\n    settingsServiceInstance.networkRequestsSamplingRate =\n      DEFAULT_CONFIGS.networkRequestsSamplingRate;\n  }\n  if (entries.fpr_vc_trace_sampling_rate !== undefined) {\n    settingsServiceInstance.tracesSamplingRate = Number(\n      entries.fpr_vc_trace_sampling_rate\n    );\n  } else if (DEFAULT_CONFIGS.tracesSamplingRate !== undefined) {\n    settingsServiceInstance.tracesSamplingRate =\n      DEFAULT_CONFIGS.tracesSamplingRate;\n  }\n  // Set the per session trace and network logging flags.\n  settingsServiceInstance.logTraceAfterSampling = shouldLogAfterSampling(\n    settingsServiceInstance.tracesSamplingRate\n  );\n  settingsServiceInstance.logNetworkAfterSampling = shouldLogAfterSampling(\n    settingsServiceInstance.networkRequestsSamplingRate\n  );\n  return config;\n}\n\nfunction configValid(expiry: string): boolean {\n  return Number(expiry) > Date.now();\n}\n\nfunction shouldLogAfterSampling(samplingRate: number): boolean {\n  return Math.random() <= samplingRate;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getIidPromise } from './iid_service';\nimport { getConfig } from './remote_config_service';\nimport { Api } from './api_service';\n\nconst enum InitializationStatus {\n  notInitialized = 1,\n  initializationPending,\n  initialized\n}\n\nlet initializationStatus = InitializationStatus.notInitialized;\n\nlet initializationPromise: Promise<void> | undefined;\n\nexport function getInitializationPromise(): Promise<void> {\n  initializationStatus = InitializationStatus.initializationPending;\n\n  initializationPromise = initializationPromise || initializePerf();\n\n  return initializationPromise;\n}\n\nexport function isPerfInitialized(): boolean {\n  return initializationStatus === InitializationStatus.initialized;\n}\n\nfunction initializePerf(): Promise<void> {\n  return getDocumentReadyComplete()\n    .then(() => getIidPromise())\n    .then(iid => getConfig(iid))\n    .then(\n      () => changeInitializationStatus(),\n      () => changeInitializationStatus()\n    );\n}\n\n/**\n * Returns a promise which resolves whenever the document readystate is complete or\n * immediately if it is called after page load complete.\n */\nfunction getDocumentReadyComplete(): Promise<void> {\n  const document = Api.getInstance().document;\n  return new Promise(resolve => {\n    if (document && document.readyState !== 'complete') {\n      const handler = (): void => {\n        if (document.readyState === 'complete') {\n          document.removeEventListener('readystatechange', handler);\n          resolve();\n        }\n      };\n      document.addEventListener('readystatechange', handler);\n    } else {\n      resolve();\n    }\n  });\n}\n\nfunction changeInitializationStatus(): void {\n  initializationStatus = InitializationStatus.initialized;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SettingsService } from './settings_service';\nimport { ERROR_FACTORY, ErrorCode } from '../utils/errors';\nimport { consoleLogger } from '../utils/console_logger';\n\nconst DEFAULT_SEND_INTERVAL_MS = 10 * 1000;\nconst INITIAL_SEND_TIME_DELAY_MS = 5.5 * 1000;\n// If end point does not work, the call will be tried for these many times.\nconst DEFAULT_REMAINING_TRIES = 3;\nlet remainingTries = DEFAULT_REMAINING_TRIES;\n\ninterface LogResponseDetails {\n  responseAction?: string;\n}\n\ninterface BatchEvent {\n  message: string;\n  eventTime: number;\n}\n\n/* eslint-disable camelcase */\n// CC/Fl accepted log format.\ninterface TransportBatchLogFormat {\n  request_time_ms: string;\n  client_info: ClientInfo;\n  log_source: number;\n  log_event: Log[];\n}\n\ninterface ClientInfo {\n  client_type: number;\n  js_client_info: {};\n}\n\ninterface Log {\n  source_extension_json_proto3: string;\n  event_time_ms: string;\n}\n/* eslint-enable camelcase */\n\nlet queue: BatchEvent[] = [];\n\nlet isTransportSetup: boolean = false;\n\nexport function setupTransportService(): void {\n  if (!isTransportSetup) {\n    processQueue(INITIAL_SEND_TIME_DELAY_MS);\n    isTransportSetup = true;\n  }\n}\n\n/**\n * Utilized by testing to clean up message queue and un-initialize transport service.\n */\nexport function resetTransportService(): void {\n  isTransportSetup = false;\n  queue = [];\n}\n\nfunction processQueue(timeOffset: number): void {\n  setTimeout(() => {\n    // If there is no remainingTries left, stop retrying.\n    if (remainingTries === 0) {\n      return;\n    }\n\n    // If there are no events to process, wait for DEFAULT_SEND_INTERVAL_MS and try again.\n    if (!queue.length) {\n      return processQueue(DEFAULT_SEND_INTERVAL_MS);\n    }\n\n    dispatchQueueEvents();\n  }, timeOffset);\n}\n\nfunction dispatchQueueEvents(): void {\n  // Capture a snapshot of the queue and empty the \"official queue\".\n  const staged = [...queue];\n  queue = [];\n\n  /* eslint-disable camelcase */\n  // We will pass the JSON serialized event to the backend.\n  const log_event: Log[] = staged.map(evt => ({\n    source_extension_json_proto3: evt.message,\n    event_time_ms: String(evt.eventTime)\n  }));\n\n  const data: TransportBatchLogFormat = {\n    request_time_ms: String(Date.now()),\n    client_info: {\n      client_type: 1, // 1 is JS\n      js_client_info: {}\n    },\n    log_source: SettingsService.getInstance().logSource,\n    log_event\n  };\n  /* eslint-enable camelcase */\n\n  sendEventsToFl(data, staged).catch(() => {\n    // If the request fails for some reason, add the events that were attempted\n    // back to the primary queue to retry later.\n    queue = [...staged, ...queue];\n    remainingTries--;\n    consoleLogger.info(`Tries left: ${remainingTries}.`);\n    processQueue(DEFAULT_SEND_INTERVAL_MS);\n  });\n}\n\nfunction sendEventsToFl(\n  data: TransportBatchLogFormat,\n  staged: BatchEvent[]\n): Promise<void> {\n  return postToFlEndpoint(data)\n    .then(res => {\n      if (!res.ok) {\n        consoleLogger.info('Call to Firebase backend failed.');\n      }\n      return res.json();\n    })\n    .then(res => {\n      // Find the next call wait time from the response.\n      const transportWait = Number(res.nextRequestWaitMillis);\n      let requestOffset = DEFAULT_SEND_INTERVAL_MS;\n      if (!isNaN(transportWait)) {\n        requestOffset = Math.max(transportWait, requestOffset);\n      }\n\n      // Delete request if response include RESPONSE_ACTION_UNKNOWN or DELETE_REQUEST action.\n      // Otherwise, retry request using normal scheduling if response include RETRY_REQUEST_LATER.\n      const logResponseDetails: LogResponseDetails[] = res.logResponseDetails;\n      if (\n        Array.isArray(logResponseDetails) &&\n        logResponseDetails.length > 0 &&\n        logResponseDetails[0].responseAction === 'RETRY_REQUEST_LATER'\n      ) {\n        queue = [...staged, ...queue];\n        consoleLogger.info(`Retry transport request later.`);\n      }\n\n      remainingTries = DEFAULT_REMAINING_TRIES;\n      // Schedule the next process.\n      processQueue(requestOffset);\n    });\n}\n\nfunction postToFlEndpoint(data: TransportBatchLogFormat): Promise<Response> {\n  const flTransportFullUrl = SettingsService.getInstance().getFlTransportFullUrl();\n  return fetch(flTransportFullUrl, {\n    method: 'POST',\n    body: JSON.stringify(data)\n  });\n}\n\nfunction addToQueue(evt: BatchEvent): void {\n  if (!evt.eventTime || !evt.message) {\n    throw ERROR_FACTORY.create(ErrorCode.INVALID_CC_LOG);\n  }\n  // Add the new event to the queue.\n  queue = [...queue, evt];\n}\n\n/** Log handler for cc service to send the performance logs to the server. */\nexport function transportHandler(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  serializer: (...args: any[]) => string\n): (...args: unknown[]) => void {\n  return (...args) => {\n    const message = serializer(...args);\n    addToQueue({\n      message,\n      eventTime: Date.now()\n    });\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getIid } from './iid_service';\nimport { NetworkRequest } from '../resources/network_request';\nimport { Trace } from '../resources/trace';\nimport { Api } from './api_service';\nimport { SettingsService } from './settings_service';\nimport {\n  getServiceWorkerStatus,\n  getVisibilityState,\n  VisibilityState,\n  getEffectiveConnectionType\n} from '../utils/attributes_utils';\nimport {\n  isPerfInitialized,\n  getInitializationPromise\n} from './initialization_service';\nimport { transportHandler } from './transport_service';\nimport { SDK_VERSION } from '../constants';\n\nconst enum ResourceType {\n  NetworkRequest,\n  Trace\n}\n\n/* eslint-disable camelcase */\ninterface ApplicationInfo {\n  google_app_id: string;\n  app_instance_id?: string;\n  web_app_info: WebAppInfo;\n  application_process_state: number;\n}\n\ninterface WebAppInfo {\n  sdk_version: string;\n  page_url: string;\n  service_worker_status: number;\n  visibility_state: number;\n  effective_connection_type: number;\n}\n\ninterface PerfNetworkLog {\n  application_info: ApplicationInfo;\n  network_request_metric: NetworkRequestMetric;\n}\n\ninterface PerfTraceLog {\n  application_info: ApplicationInfo;\n  trace_metric: TraceMetric;\n}\n\ninterface NetworkRequestMetric {\n  url: string;\n  http_method: number;\n  http_response_code: number;\n  response_payload_bytes?: number;\n  client_start_time_us?: number;\n  time_to_response_initiated_us?: number;\n  time_to_response_completed_us?: number;\n}\n\ninterface TraceMetric {\n  name: string;\n  is_auto: boolean;\n  client_start_time_us: number;\n  duration_us: number;\n  counters?: { [key: string]: number };\n  custom_attributes?: { [key: string]: string };\n}\n\n/* eslint-enble camelcase */\n\nlet logger: (\n  resource: NetworkRequest | Trace,\n  resourceType: ResourceType\n) => void | undefined;\n// This method is not called before initialization.\nfunction sendLog(\n  resource: NetworkRequest | Trace,\n  resourceType: ResourceType\n): void {\n  if (!logger) {\n    logger = transportHandler(serializer);\n  }\n  logger(resource, resourceType);\n}\n\nexport function logTrace(trace: Trace): void {\n  const settingsService = SettingsService.getInstance();\n  // Do not log if trace is auto generated and instrumentation is disabled.\n  if (!settingsService.instrumentationEnabled && trace.isAuto) {\n    return;\n  }\n  // Do not log if trace is custom and data collection is disabled.\n  if (!settingsService.dataCollectionEnabled && !trace.isAuto) {\n    return;\n  }\n  // Do not log if required apis are not available.\n  if (!Api.getInstance().requiredApisAvailable()) {\n    return;\n  }\n\n  // Only log the page load auto traces if page is visible.\n  if (trace.isAuto && getVisibilityState() !== VisibilityState.VISIBLE) {\n    return;\n  }\n\n  if (isPerfInitialized()) {\n    sendTraceLog(trace);\n  } else {\n    // Custom traces can be used before the initialization but logging\n    // should wait until after.\n\n    getInitializationPromise().then(\n      () => sendTraceLog(trace),\n      () => sendTraceLog(trace)\n    );\n  }\n}\n\nfunction sendTraceLog(trace: Trace): void {\n  if (!getIid()) {\n    return;\n  }\n\n  const settingsService = SettingsService.getInstance();\n  if (\n    !settingsService.loggingEnabled ||\n    !settingsService.logTraceAfterSampling\n  ) {\n    return;\n  }\n\n  setTimeout(() => sendLog(trace, ResourceType.Trace), 0);\n}\n\nexport function logNetworkRequest(networkRequest: NetworkRequest): void {\n  const settingsService = SettingsService.getInstance();\n  // Do not log network requests if instrumentation is disabled.\n  if (!settingsService.instrumentationEnabled) {\n    return;\n  }\n\n  // Do not log the js sdk's call to transport service domain to avoid unnecessary cycle.\n  // Need to blacklist both old and new endpoints to avoid migration gap.\n  const networkRequestUrl = networkRequest.url;\n\n  // Blacklist old log endpoint and new transport endpoint.\n  // Because Performance SDK doesn't instrument requests sent from SDK itself.\n  const logEndpointUrl = settingsService.logEndPointUrl.split('?')[0];\n  const flEndpointUrl = settingsService.flTransportEndpointUrl.split('?')[0];\n  if (\n    networkRequestUrl === logEndpointUrl ||\n    networkRequestUrl === flEndpointUrl\n  ) {\n    return;\n  }\n\n  if (\n    !settingsService.loggingEnabled ||\n    !settingsService.logNetworkAfterSampling\n  ) {\n    return;\n  }\n\n  setTimeout(() => sendLog(networkRequest, ResourceType.NetworkRequest), 0);\n}\n\nfunction serializer(\n  resource: NetworkRequest | Trace,\n  resourceType: ResourceType\n): string {\n  if (resourceType === ResourceType.NetworkRequest) {\n    return serializeNetworkRequest(resource as NetworkRequest);\n  }\n  return serializeTrace(resource as Trace);\n}\n\nfunction serializeNetworkRequest(networkRequest: NetworkRequest): string {\n  const networkRequestMetric: NetworkRequestMetric = {\n    url: networkRequest.url,\n    http_method: networkRequest.httpMethod || 0,\n    http_response_code: 200,\n    response_payload_bytes: networkRequest.responsePayloadBytes,\n    client_start_time_us: networkRequest.startTimeUs,\n    time_to_response_initiated_us: networkRequest.timeToResponseInitiatedUs,\n    time_to_response_completed_us: networkRequest.timeToResponseCompletedUs\n  };\n  const perfMetric: PerfNetworkLog = {\n    application_info: getApplicationInfo(),\n    network_request_metric: networkRequestMetric\n  };\n  return JSON.stringify(perfMetric);\n}\n\nfunction serializeTrace(trace: Trace): string {\n  const traceMetric: TraceMetric = {\n    name: trace.name,\n    is_auto: trace.isAuto,\n    client_start_time_us: trace.startTimeUs,\n    duration_us: trace.durationUs\n  };\n\n  if (Object.keys(trace.counters).length !== 0) {\n    traceMetric.counters = trace.counters;\n  }\n  const customAttributes = trace.getAttributes();\n  if (Object.keys(customAttributes).length !== 0) {\n    traceMetric.custom_attributes = customAttributes;\n  }\n\n  const perfMetric: PerfTraceLog = {\n    application_info: getApplicationInfo(),\n    trace_metric: traceMetric\n  };\n  return JSON.stringify(perfMetric);\n}\n\nfunction getApplicationInfo(): ApplicationInfo {\n  return {\n    google_app_id: SettingsService.getInstance().getAppId(),\n    app_instance_id: getIid(),\n    web_app_info: {\n      sdk_version: SDK_VERSION,\n      page_url: Api.getInstance().getUrl(),\n      service_worker_status: getServiceWorkerStatus(),\n      visibility_state: getVisibilityState(),\n      effective_connection_type: getEffectiveConnectionType()\n    },\n    application_process_state: 0\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FIRST_PAINT_COUNTER_NAME,\n  FIRST_CONTENTFUL_PAINT_COUNTER_NAME,\n  FIRST_INPUT_DELAY_COUNTER_NAME,\n  OOB_TRACE_PAGE_LOAD_PREFIX\n} from '../constants';\nimport { consoleLogger } from '../utils/console_logger';\n\nconst MAX_METRIC_NAME_LENGTH = 100;\nconst RESERVED_AUTO_PREFIX = '_';\nconst oobMetrics = [\n  FIRST_PAINT_COUNTER_NAME,\n  FIRST_CONTENTFUL_PAINT_COUNTER_NAME,\n  FIRST_INPUT_DELAY_COUNTER_NAME\n];\n\n/**\n * Returns true if the metric is custom and does not start with reserved prefix, or if\n * the metric is one of out of the box page load trace metrics.\n */\nexport function isValidMetricName(name: string, traceName?: string): boolean {\n  if (name.length === 0 || name.length > MAX_METRIC_NAME_LENGTH) {\n    return false;\n  }\n  return (\n    (traceName &&\n      traceName.startsWith(OOB_TRACE_PAGE_LOAD_PREFIX) &&\n      oobMetrics.indexOf(name) > -1) ||\n    !name.startsWith(RESERVED_AUTO_PREFIX)\n  );\n}\n\n/**\n * Converts the provided value to an integer value to be used in case of a metric.\n * @param providedValue Provided number value of the metric that needs to be converted to an integer.\n *\n * @returns Converted integer number to be set for the metric.\n */\nexport function convertMetricValueToInteger(providedValue: number): number {\n  const valueAsInteger: number = Math.floor(providedValue);\n  if (valueAsInteger < providedValue) {\n    consoleLogger.info(\n      `Metric value should be an Integer, setting the value as : ${valueAsInteger}.`\n    );\n  }\n  return valueAsInteger;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  TRACE_START_MARK_PREFIX,\n  TRACE_STOP_MARK_PREFIX,\n  TRACE_MEASURE_PREFIX,\n  OOB_TRACE_PAGE_LOAD_PREFIX,\n  FIRST_PAINT_COUNTER_NAME,\n  FIRST_CONTENTFUL_PAINT_COUNTER_NAME,\n  FIRST_INPUT_DELAY_COUNTER_NAME\n} from '../constants';\nimport { Api } from '../services/api_service';\nimport { logTrace } from '../services/perf_logger';\nimport { ERROR_FACTORY, ErrorCode } from '../utils/errors';\nimport {\n  isValidCustomAttributeName,\n  isValidCustomAttributeValue\n} from '../utils/attributes_utils';\nimport {\n  isValidMetricName,\n  convertMetricValueToInteger\n} from '../utils/metric_utils';\nimport { PerformanceTrace } from '@firebase/performance-types';\n\nconst enum TraceState {\n  UNINITIALIZED = 1,\n  RUNNING,\n  TERMINATED\n}\n\nexport class Trace implements PerformanceTrace {\n  private state: TraceState = TraceState.UNINITIALIZED;\n  startTimeUs!: number;\n  durationUs!: number;\n  private customAttributes: { [key: string]: string } = {};\n  counters: { [counterName: string]: number } = {};\n  private api = Api.getInstance();\n  private randomId = Math.floor(Math.random() * 1000000);\n  private traceStartMark!: string;\n  private traceStopMark!: string;\n  private traceMeasure!: string;\n\n  /**\n   * @param name The name of the trace.\n   * @param isAuto If the trace is auto-instrumented.\n   * @param traceMeasureName The name of the measure marker in user timing specification. This field\n   * is only set when the trace is built for logging when the user directly uses the user timing\n   * api (performance.mark and performance.measure).\n   */\n  constructor(\n    readonly name: string,\n    readonly isAuto = false,\n    traceMeasureName?: string\n  ) {\n    if (!this.isAuto) {\n      this.traceStartMark = `${TRACE_START_MARK_PREFIX}-${this.randomId}-${this.name}`;\n      this.traceStopMark = `${TRACE_STOP_MARK_PREFIX}-${this.randomId}-${this.name}`;\n      this.traceMeasure =\n        traceMeasureName ||\n        `${TRACE_MEASURE_PREFIX}-${this.randomId}-${this.name}`;\n\n      if (traceMeasureName) {\n        // For the case of direct user timing traces, no start stop will happen. The measure object\n        // is already available.\n        this.calculateTraceMetrics();\n      }\n    }\n  }\n\n  /**\n   * Starts a trace. The measurement of the duration starts at this point.\n   */\n  start(): void {\n    if (this.state !== TraceState.UNINITIALIZED) {\n      throw ERROR_FACTORY.create(ErrorCode.TRACE_STARTED_BEFORE, {\n        traceName: this.name\n      });\n    }\n    this.api.mark(this.traceStartMark);\n    this.state = TraceState.RUNNING;\n  }\n\n  /**\n   * Stops the trace. The measurement of the duration of the trace stops at this point and trace\n   * is logged.\n   */\n  stop(): void {\n    if (this.state !== TraceState.RUNNING) {\n      throw ERROR_FACTORY.create(ErrorCode.TRACE_STOPPED_BEFORE, {\n        traceName: this.name\n      });\n    }\n    this.state = TraceState.TERMINATED;\n    this.api.mark(this.traceStopMark);\n    this.api.measure(\n      this.traceMeasure,\n      this.traceStartMark,\n      this.traceStopMark\n    );\n    this.calculateTraceMetrics();\n    logTrace(this);\n  }\n\n  /**\n   * Records a trace with predetermined values. If this method is used a trace is created and logged\n   * directly. No need to use start and stop methods.\n   * @param startTime Trace start time since epoch in millisec\n   * @param duration The duraction of the trace in millisec\n   * @param options An object which can optionally hold maps of custom metrics and custom attributes\n   */\n  record(\n    startTime: number,\n    duration: number,\n    options?: {\n      metrics?: { [key: string]: number };\n      attributes?: { [key: string]: string };\n    }\n  ): void {\n    if (startTime <= 0) {\n      throw ERROR_FACTORY.create(ErrorCode.NONPOSITIVE_TRACE_START_TIME, {\n        traceName: this.name\n      });\n    }\n    if (duration <= 0) {\n      throw ERROR_FACTORY.create(ErrorCode.NONPOSITIVE_TRACE_DURATION, {\n        traceName: this.name\n      });\n    }\n\n    this.durationUs = Math.floor(duration * 1000);\n    this.startTimeUs = Math.floor(startTime * 1000);\n    if (options && options.attributes) {\n      this.customAttributes = { ...options.attributes };\n    }\n    if (options && options.metrics) {\n      for (const metric of Object.keys(options.metrics)) {\n        if (!isNaN(Number(options.metrics[metric]))) {\n          this.counters[metric] = Number(Math.floor(options.metrics[metric]));\n        }\n      }\n    }\n    logTrace(this);\n  }\n\n  /**\n   * Increments a custom metric by a certain number or 1 if number not specified. Will create a new\n   * custom metric if one with the given name does not exist. The value will be floored down to an\n   * integer.\n   * @param counter Name of the custom metric\n   * @param numAsInteger Increment by value\n   */\n  incrementMetric(counter: string, numAsInteger = 1): void {\n    if (this.counters[counter] === undefined) {\n      this.putMetric(counter, numAsInteger);\n    } else {\n      this.putMetric(counter, this.counters[counter] + numAsInteger);\n    }\n  }\n\n  /**\n   * Sets a custom metric to a specified value. Will create a new custom metric if one with the\n   * given name does not exist. The value will be floored down to an integer.\n   * @param counter Name of the custom metric\n   * @param numAsInteger Set custom metric to this value\n   */\n  putMetric(counter: string, numAsInteger: number): void {\n    if (isValidMetricName(counter, this.name)) {\n      this.counters[counter] = convertMetricValueToInteger(numAsInteger);\n    } else {\n      throw ERROR_FACTORY.create(ErrorCode.INVALID_CUSTOM_METRIC_NAME, {\n        customMetricName: counter\n      });\n    }\n  }\n\n  /**\n   * Returns the value of the custom metric by that name. If a custom metric with that name does\n   * not exist will return zero.\n   * @param counter\n   */\n  getMetric(counter: string): number {\n    return this.counters[counter] || 0;\n  }\n\n  /**\n   * Sets a custom attribute of a trace to a certain value.\n   * @param attr\n   * @param value\n   */\n  putAttribute(attr: string, value: string): void {\n    const isValidName = isValidCustomAttributeName(attr);\n    const isValidValue = isValidCustomAttributeValue(value);\n    if (isValidName && isValidValue) {\n      this.customAttributes[attr] = value;\n      return;\n    }\n    // Throw appropriate error when the attribute name or value is invalid.\n    if (!isValidName) {\n      throw ERROR_FACTORY.create(ErrorCode.INVALID_ATTRIBUTE_NAME, {\n        attributeName: attr\n      });\n    }\n    if (!isValidValue) {\n      throw ERROR_FACTORY.create(ErrorCode.INVALID_ATTRIBUTE_VALUE, {\n        attributeValue: value\n      });\n    }\n  }\n\n  /**\n   * Retrieves the value a custom attribute of a trace is set to.\n   * @param attr\n   */\n  getAttribute(attr: string): string | undefined {\n    return this.customAttributes[attr];\n  }\n\n  removeAttribute(attr: string): void {\n    if (this.customAttributes[attr] === undefined) {\n      return;\n    }\n    delete this.customAttributes[attr];\n  }\n\n  getAttributes(): { [key: string]: string } {\n    return { ...this.customAttributes };\n  }\n\n  private setStartTime(startTime: number): void {\n    this.startTimeUs = startTime;\n  }\n\n  private setDuration(duration: number): void {\n    this.durationUs = duration;\n  }\n\n  /**\n   * Calculates and assigns the duration and start time of the trace using the measure performance\n   * entry.\n   */\n  private calculateTraceMetrics(): void {\n    const perfMeasureEntries = this.api.getEntriesByName(this.traceMeasure);\n    const perfMeasureEntry = perfMeasureEntries && perfMeasureEntries[0];\n    if (perfMeasureEntry) {\n      this.durationUs = Math.floor(perfMeasureEntry.duration * 1000);\n      this.startTimeUs = Math.floor(\n        (perfMeasureEntry.startTime + this.api.getTimeOrigin()) * 1000\n      );\n    }\n  }\n\n  /**\n   * @param navigationTimings A single element array which contains the navigationTIming object of\n   * the page load\n   * @param paintTimings A array which contains paintTiming object of the page load\n   * @param firstInputDelay First input delay in millisec\n   */\n  static createOobTrace(\n    navigationTimings: PerformanceNavigationTiming[],\n    paintTimings: PerformanceEntry[],\n    firstInputDelay?: number\n  ): void {\n    const route = Api.getInstance().getUrl();\n    if (!route) {\n      return;\n    }\n    const trace = new Trace(OOB_TRACE_PAGE_LOAD_PREFIX + route, true);\n    const timeOriginUs = Math.floor(Api.getInstance().getTimeOrigin() * 1000);\n    trace.setStartTime(timeOriginUs);\n\n    // navigationTimings includes only one element.\n    if (navigationTimings && navigationTimings[0]) {\n      trace.setDuration(Math.floor(navigationTimings[0].duration * 1000));\n      trace.putMetric(\n        'domInteractive',\n        Math.floor(navigationTimings[0].domInteractive * 1000)\n      );\n      trace.putMetric(\n        'domContentLoadedEventEnd',\n        Math.floor(navigationTimings[0].domContentLoadedEventEnd * 1000)\n      );\n      trace.putMetric(\n        'loadEventEnd',\n        Math.floor(navigationTimings[0].loadEventEnd * 1000)\n      );\n    }\n\n    const FIRST_PAINT = 'first-paint';\n    const FIRST_CONTENTFUL_PAINT = 'first-contentful-paint';\n    if (paintTimings) {\n      const firstPaint = paintTimings.find(\n        paintObject => paintObject.name === FIRST_PAINT\n      );\n      if (firstPaint && firstPaint.startTime) {\n        trace.putMetric(\n          FIRST_PAINT_COUNTER_NAME,\n          Math.floor(firstPaint.startTime * 1000)\n        );\n      }\n      const firstContentfulPaint = paintTimings.find(\n        paintObject => paintObject.name === FIRST_CONTENTFUL_PAINT\n      );\n      if (firstContentfulPaint && firstContentfulPaint.startTime) {\n        trace.putMetric(\n          FIRST_CONTENTFUL_PAINT_COUNTER_NAME,\n          Math.floor(firstContentfulPaint.startTime * 1000)\n        );\n      }\n\n      if (firstInputDelay) {\n        trace.putMetric(\n          FIRST_INPUT_DELAY_COUNTER_NAME,\n          Math.floor(firstInputDelay * 1000)\n        );\n      }\n    }\n\n    logTrace(trace);\n  }\n\n  static createUserTimingTrace(measureName: string): void {\n    const trace = new Trace(measureName, false, measureName);\n    logTrace(trace);\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Api } from '../services/api_service';\nimport { logNetworkRequest } from '../services/perf_logger';\n\n// The order of values of this enum should not be changed.\nexport const enum HttpMethod {\n  HTTP_METHOD_UNKNOWN = 0,\n  GET = 1,\n  PUT = 2,\n  POST = 3,\n  DELETE = 4,\n  HEAD = 5,\n  PATCH = 6,\n  OPTIONS = 7,\n  TRACE = 8,\n  CONNECT = 9\n}\n\n// Durations are in microseconds.\nexport interface NetworkRequest {\n  url: string;\n  httpMethod?: HttpMethod;\n  requestPayloadBytes?: number;\n  responsePayloadBytes?: number;\n  httpResponseCode?: number;\n  responseContentType?: string;\n  startTimeUs?: number;\n  timeToRequestCompletedUs?: number;\n  timeToResponseInitiatedUs?: number;\n  timeToResponseCompletedUs?: number;\n}\n\nexport function createNetworkRequestEntry(entry: PerformanceEntry): void {\n  const performanceEntry = entry as PerformanceResourceTiming;\n  if (!performanceEntry || performanceEntry.responseStart === undefined) {\n    return;\n  }\n  const timeOrigin = Api.getInstance().getTimeOrigin();\n  const startTimeUs = Math.floor(\n    (performanceEntry.startTime + timeOrigin) * 1000\n  );\n  const timeToResponseInitiatedUs = performanceEntry.responseStart\n    ? Math.floor(\n        (performanceEntry.responseStart - performanceEntry.startTime) * 1000\n      )\n    : undefined;\n  const timeToResponseCompletedUs = Math.floor(\n    (performanceEntry.responseEnd - performanceEntry.startTime) * 1000\n  );\n  // Remove the query params from logged network request url.\n  const url = performanceEntry.name && performanceEntry.name.split('?')[0];\n  const networkRequest: NetworkRequest = {\n    url,\n    responsePayloadBytes: performanceEntry.transferSize,\n    startTimeUs,\n    timeToResponseInitiatedUs,\n    timeToResponseCompletedUs\n  };\n\n  logNetworkRequest(networkRequest);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Api } from './api_service';\nimport { Trace } from '../resources/trace';\nimport { createNetworkRequestEntry } from '../resources/network_request';\nimport { TRACE_MEASURE_PREFIX } from '../constants';\nimport { getIid } from './iid_service';\n\nconst FID_WAIT_TIME_MS = 5000;\n\nexport function setupOobResources(): void {\n  // Do not initialize unless iid is available.\n  if (!getIid()) {\n    return;\n  }\n  // The load event might not have fired yet, and that means performance navigation timing\n  // object has a duration of 0. The setup should run after all current tasks in js queue.\n  setTimeout(() => setupOobTraces(), 0);\n  setTimeout(() => setupNetworkRequests(), 0);\n  setTimeout(() => setupUserTimingTraces(), 0);\n}\n\nfunction setupNetworkRequests(): void {\n  const api = Api.getInstance();\n  const resources = api.getEntriesByType('resource');\n  for (const resource of resources) {\n    createNetworkRequestEntry(resource);\n  }\n  api.setupObserver('resource', createNetworkRequestEntry);\n}\n\nfunction setupOobTraces(): void {\n  const api = Api.getInstance();\n  const navigationTimings = api.getEntriesByType(\n    'navigation'\n  ) as PerformanceNavigationTiming[];\n  const paintTimings = api.getEntriesByType('paint');\n  // If First Input Desly polyfill is added to the page, report the fid value.\n  // https://github.com/GoogleChromeLabs/first-input-delay\n  if (api.onFirstInputDelay) {\n    // If the fid call back is not called for certain time, continue without it.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let timeoutId: any = setTimeout(() => {\n      Trace.createOobTrace(navigationTimings, paintTimings);\n      timeoutId = undefined;\n    }, FID_WAIT_TIME_MS);\n    api.onFirstInputDelay((fid: number) => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        Trace.createOobTrace(navigationTimings, paintTimings, fid);\n      }\n    });\n  } else {\n    Trace.createOobTrace(navigationTimings, paintTimings);\n  }\n}\n\nfunction setupUserTimingTraces(): void {\n  const api = Api.getInstance();\n  // Run through the measure performance entries collected up to this point.\n  const measures = api.getEntriesByType('measure');\n  for (const measure of measures) {\n    createUserTimingTrace(measure);\n  }\n  // Setup an observer to capture the measures from this point on.\n  api.setupObserver('measure', createUserTimingTrace);\n}\n\nfunction createUserTimingTrace(measure: PerformanceEntry): void {\n  const measureName = measure.name;\n  // Do not create a trace, if the user timing marks and measures are created by the sdk itself.\n  if (\n    measureName.substring(0, TRACE_MEASURE_PREFIX.length) ===\n    TRACE_MEASURE_PREFIX\n  ) {\n    return;\n  }\n  Trace.createUserTimingTrace(measureName);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Trace } from '../resources/trace';\nimport { setupOobResources } from '../services/oob_resources_service';\nimport { SettingsService } from '../services/settings_service';\nimport { getInitializationPromise } from '../services/initialization_service';\nimport { Api } from '../services/api_service';\nimport { FirebaseApp } from '@firebase/app-types';\nimport { FirebasePerformance } from '@firebase/performance-types';\nimport { setupTransportService } from '../services/transport_service';\nimport { validateIndexedDBOpenable } from '@firebase/util';\nimport { consoleLogger } from '../utils/console_logger';\nexport class PerformanceController implements FirebasePerformance {\n  constructor(readonly app: FirebaseApp) {\n    if (Api.getInstance().requiredApisAvailable()) {\n      validateIndexedDBOpenable()\n        .then(isAvailable => {\n          if (isAvailable) {\n            setupTransportService();\n            getInitializationPromise().then(\n              setupOobResources,\n              setupOobResources\n            );\n          }\n        })\n        .catch(error => {\n          consoleLogger.info(`Environment doesn't support IndexedDB: ${error}`);\n        });\n    }\n  }\n\n  trace(name: string): Trace {\n    return new Trace(name);\n  }\n\n  set instrumentationEnabled(val: boolean) {\n    SettingsService.getInstance().instrumentationEnabled = val;\n  }\n  get instrumentationEnabled(): boolean {\n    return SettingsService.getInstance().instrumentationEnabled;\n  }\n\n  set dataCollectionEnabled(val: boolean) {\n    SettingsService.getInstance().dataCollectionEnabled = val;\n  }\n  get dataCollectionEnabled(): boolean {\n    return SettingsService.getInstance().dataCollectionEnabled;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase from '@firebase/app';\nimport '@firebase/installations';\nimport { FirebaseApp, FirebaseNamespace } from '@firebase/app-types';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\nimport { PerformanceController } from './src/controllers/perf';\nimport { setupApi } from './src/services/api_service';\nimport { SettingsService } from './src/services/settings_service';\nimport { ERROR_FACTORY, ErrorCode } from './src/utils/errors';\nimport { FirebasePerformance } from '@firebase/performance-types';\nimport { Component, ComponentType } from '@firebase/component';\nimport { FirebaseInstallations } from '@firebase/installations-types';\nimport { name, version } from './package.json';\n\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\nexport function registerPerformance(instance: FirebaseNamespace): void {\n  const factoryMethod = (\n    app: FirebaseApp,\n    installations: FirebaseInstallations\n  ): PerformanceController => {\n    if (app.name !== DEFAULT_ENTRY_NAME) {\n      throw ERROR_FACTORY.create(ErrorCode.FB_NOT_DEFAULT);\n    }\n    if (typeof window === 'undefined') {\n      throw ERROR_FACTORY.create(ErrorCode.NO_WINDOW);\n    }\n    setupApi(window);\n    SettingsService.getInstance().firebaseAppInstance = app;\n    SettingsService.getInstance().installationsService = installations;\n    return new PerformanceController(app);\n  };\n\n  // Register performance with firebase-app.\n  (instance as _FirebaseNamespace).INTERNAL.registerComponent(\n    new Component(\n      'performance',\n      container => {\n        /* Dependencies */\n        // getImmediate for FirebaseApp will always succeed\n        const app = container.getProvider('app').getImmediate();\n        // The following call will always succeed because perf has `import '@firebase/installations'`\n        const installations = container\n          .getProvider('installations')\n          .getImmediate();\n\n        return factoryMethod(app, installations);\n      },\n      ComponentType.PUBLIC\n    )\n  );\n\n  instance.registerVersion(name, version);\n}\n\nregisterPerformance(firebase);\n\ndeclare module '@firebase/app-types' {\n  interface FirebaseNamespace {\n    performance?: {\n      (app?: FirebaseApp): FirebasePerformance;\n    };\n  }\n  interface FirebaseApp {\n    performance?(): FirebasePerformance;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { StorageCache } from '../storage/storage_cache';\nimport {\n  FetchResponse,\n  RemoteConfigFetchClient,\n  FetchRequest\n} from './remote_config_fetch_client';\nimport { Storage } from '../storage/storage';\nimport { Logger } from '@firebase/logger';\n\n/**\n * Implements the {@link RemoteConfigClient} abstraction with success response caching.\n *\n * <p>Comparable to the browser's Cache API for responses, but the Cache API requires a Service\n * Worker, which requires HTTPS, which would significantly complicate SDK installation. Also, the\n * Cache API doesn't support matching entries by time.\n */\nexport class CachingClient implements RemoteConfigFetchClient {\n  constructor(\n    private readonly client: RemoteConfigFetchClient,\n    private readonly storage: Storage,\n    private readonly storageCache: StorageCache,\n    private readonly logger: Logger\n  ) {}\n\n  /**\n   * Returns true if the age of the cached fetched configs is less than or equal to\n   * {@link Settings#minimumFetchIntervalInSeconds}.\n   *\n   * <p>This is comparable to passing `headers = { 'Cache-Control': max-age <maxAge> }` to the\n   * native Fetch API.\n   *\n   * <p>Visible for testing.\n   */\n  isCachedDataFresh(\n    cacheMaxAgeMillis: number,\n    lastSuccessfulFetchTimestampMillis: number | undefined\n  ): boolean {\n    // Cache can only be fresh if it's populated.\n    if (!lastSuccessfulFetchTimestampMillis) {\n      this.logger.debug('Config fetch cache check. Cache unpopulated.');\n      return false;\n    }\n\n    // Calculates age of cache entry.\n    const cacheAgeMillis = Date.now() - lastSuccessfulFetchTimestampMillis;\n\n    const isCachedDataFresh = cacheAgeMillis <= cacheMaxAgeMillis;\n\n    this.logger.debug(\n      'Config fetch cache check.' +\n        ` Cache age millis: ${cacheAgeMillis}.` +\n        ` Cache max age millis (minimumFetchIntervalMillis setting): ${cacheMaxAgeMillis}.` +\n        ` Is cache hit: ${isCachedDataFresh}.`\n    );\n\n    return isCachedDataFresh;\n  }\n\n  async fetch(request: FetchRequest): Promise<FetchResponse> {\n    // Reads from persisted storage to avoid cache miss if callers don't wait on initialization.\n    const [\n      lastSuccessfulFetchTimestampMillis,\n      lastSuccessfulFetchResponse\n    ] = await Promise.all([\n      this.storage.getLastSuccessfulFetchTimestampMillis(),\n      this.storage.getLastSuccessfulFetchResponse()\n    ]);\n\n    // Exits early on cache hit.\n    if (\n      lastSuccessfulFetchResponse &&\n      this.isCachedDataFresh(\n        request.cacheMaxAgeMillis,\n        lastSuccessfulFetchTimestampMillis\n      )\n    ) {\n      return lastSuccessfulFetchResponse;\n    }\n\n    // Deviates from pure decorator by not honoring a passed ETag since we don't have a public API\n    // that allows the caller to pass an ETag.\n    request.eTag =\n      lastSuccessfulFetchResponse && lastSuccessfulFetchResponse.eTag;\n\n    // Falls back to service on cache miss.\n    const response = await this.client.fetch(request);\n\n    // Fetch throws for non-success responses, so success is guaranteed here.\n\n    const storageOperations = [\n      // Uses write-through cache for consistency with synchronous public API.\n      this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())\n    ];\n\n    if (response.status === 200) {\n      // Caches response only if it has changed, ie non-304 responses.\n      storageOperations.push(\n        this.storage.setLastSuccessfulFetchResponse(response)\n      );\n    }\n\n    await Promise.all(storageOperations);\n\n    return response;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, FirebaseError } from '@firebase/util';\n\nexport const enum ErrorCode {\n  REGISTRATION_WINDOW = 'registration-window',\n  REGISTRATION_PROJECT_ID = 'registration-project-id',\n  REGISTRATION_API_KEY = 'registration-api-key',\n  REGISTRATION_APP_ID = 'registration-app-id',\n  STORAGE_OPEN = 'storage-open',\n  STORAGE_GET = 'storage-get',\n  STORAGE_SET = 'storage-set',\n  STORAGE_DELETE = 'storage-delete',\n  FETCH_NETWORK = 'fetch-client-network',\n  FETCH_TIMEOUT = 'fetch-timeout',\n  FETCH_THROTTLE = 'fetch-throttle',\n  FETCH_PARSE = 'fetch-client-parse',\n  FETCH_STATUS = 'fetch-status'\n}\n\nconst ERROR_DESCRIPTION_MAP: { readonly [key in ErrorCode]: string } = {\n  [ErrorCode.REGISTRATION_WINDOW]:\n    'Undefined window object. This SDK only supports usage in a browser environment.',\n  [ErrorCode.REGISTRATION_PROJECT_ID]:\n    'Undefined project identifier. Check Firebase app initialization.',\n  [ErrorCode.REGISTRATION_API_KEY]:\n    'Undefined API key. Check Firebase app initialization.',\n  [ErrorCode.REGISTRATION_APP_ID]:\n    'Undefined app identifier. Check Firebase app initialization.',\n  [ErrorCode.STORAGE_OPEN]:\n    'Error thrown when opening storage. Original error: {$originalErrorMessage}.',\n  [ErrorCode.STORAGE_GET]:\n    'Error thrown when reading from storage. Original error: {$originalErrorMessage}.',\n  [ErrorCode.STORAGE_SET]:\n    'Error thrown when writing to storage. Original error: {$originalErrorMessage}.',\n  [ErrorCode.STORAGE_DELETE]:\n    'Error thrown when deleting from storage. Original error: {$originalErrorMessage}.',\n  [ErrorCode.FETCH_NETWORK]:\n    'Fetch client failed to connect to a network. Check Internet connection.' +\n    ' Original error: {$originalErrorMessage}.',\n  [ErrorCode.FETCH_TIMEOUT]:\n    'The config fetch request timed out. ' +\n    ' Configure timeout using \"fetchTimeoutMillis\" SDK setting.',\n  [ErrorCode.FETCH_THROTTLE]:\n    'The config fetch request timed out while in an exponential backoff state.' +\n    ' Configure timeout using \"fetchTimeoutMillis\" SDK setting.' +\n    ' Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',\n  [ErrorCode.FETCH_PARSE]:\n    'Fetch client could not parse response.' +\n    ' Original error: {$originalErrorMessage}.',\n  [ErrorCode.FETCH_STATUS]:\n    'Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.'\n};\n\n// Note this is effectively a type system binding a code to params. This approach overlaps with the\n// role of TS interfaces, but works well for a few reasons:\n// 1) JS is unaware of TS interfaces, eg we can't test for interface implementation in JS\n// 2) callers should have access to a human-readable summary of the error and this interpolates\n//    params into an error message;\n// 3) callers should be able to programmatically access data associated with an error, which\n//    ErrorData provides.\ninterface ErrorParams {\n  [ErrorCode.STORAGE_OPEN]: { originalErrorMessage: string | undefined };\n  [ErrorCode.STORAGE_GET]: { originalErrorMessage: string | undefined };\n  [ErrorCode.STORAGE_SET]: { originalErrorMessage: string | undefined };\n  [ErrorCode.STORAGE_DELETE]: { originalErrorMessage: string | undefined };\n  [ErrorCode.FETCH_NETWORK]: { originalErrorMessage: string };\n  [ErrorCode.FETCH_THROTTLE]: { throttleEndTimeMillis: number };\n  [ErrorCode.FETCH_PARSE]: { originalErrorMessage: string };\n  [ErrorCode.FETCH_STATUS]: { httpStatus: number };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<ErrorCode, ErrorParams>(\n  'remoteconfig' /* service */,\n  'Remote Config' /* service name */,\n  ERROR_DESCRIPTION_MAP\n);\n\n// Note how this is like typeof/instanceof, but for ErrorCode.\nexport function hasErrorCode(e: Error, errorCode: ErrorCode): boolean {\n  return e instanceof FirebaseError && e.code.indexOf(errorCode) !== -1;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseInstallations } from '@firebase/installations-types';\nimport {\n  FetchResponse,\n  RemoteConfigFetchClient,\n  FirebaseRemoteConfigObject,\n  FetchRequest\n} from './remote_config_fetch_client';\nimport { ERROR_FACTORY, ErrorCode } from '../errors';\nimport { getUserLanguage } from '../language';\n\n/**\n * Defines request body parameters required to call the fetch API:\n * https://firebase.google.com/docs/reference/remote-config/rest\n *\n * <p>Not exported because this file encapsulates REST API specifics.\n *\n * <p>Not passing User Properties because Analytics' source of truth on Web is server-side.\n */\ninterface FetchRequestBody {\n  // Disables camelcase linting for request body params.\n  /* eslint-disable camelcase*/\n  sdk_version: string;\n  app_instance_id: string;\n  app_instance_id_token: string;\n  app_id: string;\n  language_code: string;\n  /* eslint-enable camelcase */\n}\n\n/**\n * Implements the Client abstraction for the Remote Config REST API.\n */\nexport class RestClient implements RemoteConfigFetchClient {\n  constructor(\n    private readonly firebaseInstallations: FirebaseInstallations,\n    private readonly sdkVersion: string,\n    private readonly namespace: string,\n    private readonly projectId: string,\n    private readonly apiKey: string,\n    private readonly appId: string\n  ) {}\n\n  /**\n   * Fetches from the Remote Config REST API.\n   *\n   * @throws a {@link ErrorCode.FETCH_NETWORK} error if {@link GlobalFetch#fetch} can't\n   * connect to the network.\n   * @throws a {@link ErrorCode.FETCH_PARSE} error if {@link Response#json} can't parse the\n   * fetch response.\n   * @throws a {@link ErrorCode.FETCH_STATUS} error if the service returns an HTTP error status.\n   */\n  async fetch(request: FetchRequest): Promise<FetchResponse> {\n    const [installationId, installationToken] = await Promise.all([\n      this.firebaseInstallations.getId(),\n      this.firebaseInstallations.getToken()\n    ]);\n\n    const urlBase =\n      window.FIREBASE_REMOTE_CONFIG_URL_BASE ||\n      'https://firebaseremoteconfig.googleapis.com';\n\n    const url = `${urlBase}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`;\n\n    const headers = {\n      'Content-Type': 'application/json',\n      'Content-Encoding': 'gzip',\n      // Deviates from pure decorator by not passing max-age header since we don't currently have\n      // service behavior using that header.\n      'If-None-Match': request.eTag || '*'\n    };\n\n    const requestBody: FetchRequestBody = {\n      /* eslint-disable camelcase */\n      sdk_version: this.sdkVersion,\n      app_instance_id: installationId,\n      app_instance_id_token: installationToken,\n      app_id: this.appId,\n      language_code: getUserLanguage()\n      /* eslint-enable camelcase */\n    };\n\n    const options = {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(requestBody)\n    };\n\n    // This logic isn't REST-specific, but shimming abort logic isn't worth another decorator.\n    const fetchPromise = fetch(url, options);\n    const timeoutPromise = new Promise((_resolve, reject) => {\n      // Maps async event listener to Promise API.\n      request.signal.addEventListener(() => {\n        // Emulates https://heycam.github.io/webidl/#aborterror\n        const error = new Error('The operation was aborted.');\n        error.name = 'AbortError';\n        reject(error);\n      });\n    });\n\n    let response;\n    try {\n      await Promise.race([fetchPromise, timeoutPromise]);\n      response = await fetchPromise;\n    } catch (originalError) {\n      let errorCode = ErrorCode.FETCH_NETWORK;\n      if (originalError.name === 'AbortError') {\n        errorCode = ErrorCode.FETCH_TIMEOUT;\n      }\n      throw ERROR_FACTORY.create(errorCode, {\n        originalErrorMessage: originalError.message\n      });\n    }\n\n    let status = response.status;\n\n    // Normalizes nullable header to optional.\n    const responseEtag = response.headers.get('ETag') || undefined;\n\n    let config: FirebaseRemoteConfigObject | undefined;\n    let state: string | undefined;\n\n    // JSON parsing throws SyntaxError if the response body isn't a JSON string.\n    // Requesting application/json and checking for a 200 ensures there's JSON data.\n    if (response.status === 200) {\n      let responseBody;\n      try {\n        responseBody = await response.json();\n      } catch (originalError) {\n        throw ERROR_FACTORY.create(ErrorCode.FETCH_PARSE, {\n          originalErrorMessage: originalError.message\n        });\n      }\n      config = responseBody['entries'];\n      state = responseBody['state'];\n    }\n\n    // Normalizes based on legacy state.\n    if (state === 'INSTANCE_STATE_UNSPECIFIED') {\n      status = 500;\n    } else if (state === 'NO_CHANGE') {\n      status = 304;\n    } else if (state === 'NO_TEMPLATE' || state === 'EMPTY_CONFIG') {\n      // These cases can be fixed remotely, so normalize to safe value.\n      config = {};\n    }\n\n    // Normalize to exception-based control flow for non-success cases.\n    // Encapsulates HTTP specifics in this class as much as possible. Status is still the best for\n    // differentiating success states (200 from 304; the state body param is undefined in a\n    // standard 304).\n    if (status !== 304 && status !== 200) {\n      throw ERROR_FACTORY.create(ErrorCode.FETCH_STATUS, {\n        httpStatus: status\n      });\n    }\n\n    return { status, eTag: responseEtag, config };\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Attempts to get the most accurate browser language setting.\n *\n * <p>Adapted from getUserLanguage in packages/auth/src/utils.js for TypeScript.\n *\n * <p>Defers default language specification to server logic for consistency.\n *\n * @param navigatorLanguage Enables tests to override read-only {@link NavigatorLanguage}.\n */\nexport function getUserLanguage(\n  navigatorLanguage: NavigatorLanguage = navigator\n): string {\n  return (\n    // Most reliable, but only supported in Chrome/Firefox.\n    (navigatorLanguage.languages && navigatorLanguage.languages[0]) ||\n    // Supported in most browsers, but returns the language of the browser\n    // UI, not the language set in browser settings.\n    navigatorLanguage.language\n    // Polyfill otherwise.\n  );\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Defines a client, as in https://en.wikipedia.org/wiki/Client%E2%80%93server_model, for the\n * Remote Config server (https://firebase.google.com/docs/reference/remote-config/rest).\n *\n * <p>Abstracts throttle, response cache and network implementation details.\n *\n * <p>Modeled after the native {@link GlobalFetch} interface, which is relatively modern and\n * convenient, but simplified for Remote Config's use case.\n *\n * Disambiguation: {@link GlobalFetch} interface and the Remote Config service define \"fetch\"\n * methods. The RestClient uses the former to make HTTP calls. This interface abstracts the latter.\n */\nexport interface RemoteConfigFetchClient {\n  /**\n   * @throws if response status is not 200 or 304.\n   */\n  fetch(request: FetchRequest): Promise<FetchResponse>;\n}\n\n/**\n * Defines a self-descriptive reference for config key-value pairs.\n */\nexport interface FirebaseRemoteConfigObject {\n  [key: string]: string;\n}\n\n/**\n * Shims a minimal AbortSignal.\n *\n * <p>AbortController's AbortSignal conveniently decouples fetch timeout logic from other aspects\n * of networking, such as retries. Firebase doesn't use AbortController enough to justify a\n * polyfill recommendation, like we do with the Fetch API, but this minimal shim can easily be\n * swapped out if/when we do.\n */\nexport class RemoteConfigAbortSignal {\n  listeners: Array<() => void> = [];\n  addEventListener(listener: () => void): void {\n    this.listeners.push(listener);\n  }\n  abort(): void {\n    this.listeners.forEach(listener => listener());\n  }\n}\n\n/**\n * Defines per-request inputs for the Remote Config fetch request.\n *\n * <p>Modeled after the native {@link Request} interface, but simplified for Remote Config's\n * use case.\n */\nexport interface FetchRequest {\n  /**\n   * Uses cached config if it is younger than this age.\n   *\n   * <p>Required because it's defined by settings, which always have a value.\n   *\n   * <p>Comparable to passing `headers = { 'Cache-Control': max-age <maxAge> }` to the native\n   * Fetch API.\n   */\n  cacheMaxAgeMillis: number;\n\n  /**\n   * An event bus for the signal to abort a request.\n   *\n   * <p>Required because all requests should be abortable.\n   *\n   * <p>Comparable to the native\n   * Fetch API's \"signal\" field on its request configuration object\n   * https://fetch.spec.whatwg.org/#dom-requestinit-signal.\n   *\n   * <p>Disambiguation: Remote Config commonly refers to API inputs as\n   * \"signals\". See the private ConfigFetchRequestBody interface for those:\n   * http://google3/firebase/remote_config/web/src/core/rest_client.ts?l=14&rcl=255515243.\n   */\n  signal: RemoteConfigAbortSignal;\n\n  /**\n   * The ETag header value from the last response.\n   *\n   * <p>Optional in case this is the first request.\n   *\n   * <p>Comparable to passing `headers = { 'If-None-Match': <eTag> }` to the native Fetch API.\n   */\n  eTag?: string;\n}\n\n/**\n * Defines a successful response (200 or 304).\n *\n * <p>Modeled after the native {@link Response} interface, but simplified for Remote Config's\n * use case.\n */\nexport interface FetchResponse {\n  /**\n   * The HTTP status, which is useful for differentiating success responses with data from\n   * those without.\n   *\n   * <p>{@link RemoteConfigClient} is modeled after the native {@link GlobalFetch} interface, so\n   * HTTP status is first-class.\n   *\n   * <p>Disambiguation: the fetch response returns a legacy \"state\" value that is redundant with the\n   * HTTP status code. The former is normalized into the latter.\n   */\n  status: number;\n\n  /**\n   * Defines the ETag response header value.\n   *\n   * <p>Only defined for 200 and 304 responses.\n   */\n  eTag?: string;\n\n  /**\n   * Defines the map of parameters returned as \"entries\" in the fetch response body.\n   *\n   * <p>Only defined for 200 responses.\n   */\n  config?: FirebaseRemoteConfigObject;\n\n  // Note: we're not extracting experiment metadata until\n  // ABT and Analytics have Web SDKs.\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Value as ValueType, ValueSource } from '@firebase/remote-config-types';\n\nconst DEFAULT_VALUE_FOR_BOOLEAN = false;\nconst DEFAULT_VALUE_FOR_STRING = '';\nconst DEFAULT_VALUE_FOR_NUMBER = 0;\n\nconst BOOLEAN_TRUTHY_VALUES = ['1', 'true', 't', 'yes', 'y', 'on'];\n\nexport class Value implements ValueType {\n  constructor(\n    private readonly _source: ValueSource,\n    private readonly _value: string = DEFAULT_VALUE_FOR_STRING\n  ) {}\n\n  asString(): string {\n    return this._value;\n  }\n\n  asBoolean(): boolean {\n    if (this._source === 'static') {\n      return DEFAULT_VALUE_FOR_BOOLEAN;\n    }\n    return BOOLEAN_TRUTHY_VALUES.indexOf(this._value.toLowerCase()) >= 0;\n  }\n\n  asNumber(): number {\n    if (this._source === 'static') {\n      return DEFAULT_VALUE_FOR_NUMBER;\n    }\n    let num = Number(this._value);\n    if (isNaN(num)) {\n      num = DEFAULT_VALUE_FOR_NUMBER;\n    }\n    return num;\n  }\n\n  getSource(): ValueSource {\n    return this._source;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp } from '@firebase/app-types';\nimport {\n  RemoteConfig as RemoteConfigType,\n  FetchStatus,\n  Settings,\n  Value as ValueType,\n  LogLevel as RemoteConfigLogLevel\n} from '@firebase/remote-config-types';\nimport { StorageCache } from './storage/storage_cache';\nimport {\n  RemoteConfigFetchClient,\n  RemoteConfigAbortSignal\n} from './client/remote_config_fetch_client';\nimport { Value } from './value';\nimport { ErrorCode, hasErrorCode } from './errors';\nimport { Storage } from './storage/storage';\nimport { Logger, LogLevel as FirebaseLogLevel } from '@firebase/logger';\n\nconst DEFAULT_FETCH_TIMEOUT_MILLIS = 60 * 1000; // One minute\nconst DEFAULT_CACHE_MAX_AGE_MILLIS = 12 * 60 * 60 * 1000; // Twelve hours.\n\n/**\n * Encapsulates business logic mapping network and storage dependencies to the public SDK API.\n *\n * See {@link https://github.com/FirebasePrivate/firebase-js-sdk/blob/master/packages/firebase/index.d.ts|interface documentation} for method descriptions.\n */\nexport class RemoteConfig implements RemoteConfigType {\n  // Tracks completion of initialization promise.\n  private _isInitializationComplete = false;\n\n  // De-duplicates initialization calls.\n  private _initializePromise?: Promise<void>;\n\n  settings: Settings = {\n    fetchTimeoutMillis: DEFAULT_FETCH_TIMEOUT_MILLIS,\n    minimumFetchIntervalMillis: DEFAULT_CACHE_MAX_AGE_MILLIS\n  };\n\n  defaultConfig: { [key: string]: string | number | boolean } = {};\n\n  // Based on packages/firestore/src/util/log.ts but not static because we need per-instance levels\n  // to differentiate 2p and 3p use-cases.\n  setLogLevel(logLevel: RemoteConfigLogLevel): void {\n    switch (logLevel) {\n      case 'debug':\n        this._logger.logLevel = FirebaseLogLevel.DEBUG;\n        break;\n      case 'silent':\n        this._logger.logLevel = FirebaseLogLevel.SILENT;\n        break;\n      default:\n        this._logger.logLevel = FirebaseLogLevel.ERROR;\n    }\n  }\n\n  get fetchTimeMillis(): number {\n    return this._storageCache.getLastSuccessfulFetchTimestampMillis() || -1;\n  }\n\n  get lastFetchStatus(): FetchStatus {\n    return this._storageCache.getLastFetchStatus() || 'no-fetch-yet';\n  }\n\n  constructor(\n    // Required by FirebaseServiceFactory interface.\n    readonly app: FirebaseApp,\n    // JS doesn't support private yet\n    // (https://github.com/tc39/proposal-class-fields#private-fields), so we hint using an\n    // underscore prefix.\n    private readonly _client: RemoteConfigFetchClient,\n    private readonly _storageCache: StorageCache,\n    private readonly _storage: Storage,\n    private readonly _logger: Logger\n  ) {}\n\n  async activate(): Promise<boolean> {\n    const [lastSuccessfulFetchResponse, activeConfigEtag] = await Promise.all([\n      this._storage.getLastSuccessfulFetchResponse(),\n      this._storage.getActiveConfigEtag()\n    ]);\n    if (\n      !lastSuccessfulFetchResponse ||\n      !lastSuccessfulFetchResponse.config ||\n      !lastSuccessfulFetchResponse.eTag ||\n      lastSuccessfulFetchResponse.eTag === activeConfigEtag\n    ) {\n      // Either there is no successful fetched config, or is the same as current active\n      // config.\n      return false;\n    }\n    await Promise.all([\n      this._storageCache.setActiveConfig(lastSuccessfulFetchResponse.config),\n      this._storage.setActiveConfigEtag(lastSuccessfulFetchResponse.eTag)\n    ]);\n    return true;\n  }\n\n  ensureInitialized(): Promise<void> {\n    if (!this._initializePromise) {\n      this._initializePromise = this._storageCache\n        .loadFromStorage()\n        .then(() => {\n          this._isInitializationComplete = true;\n        });\n    }\n    return this._initializePromise;\n  }\n\n  /**\n   * @throws a {@link ErrorCode.FETCH_CLIENT_TIMEOUT} if the request takes longer than\n   * {@link Settings.fetchTimeoutInSeconds} or\n   * {@link DEFAULT_FETCH_TIMEOUT_SECONDS}.\n   */\n  async fetch(): Promise<void> {\n    // Aborts the request after the given timeout, causing the fetch call to\n    // reject with an AbortError.\n    //\n    // <p>Aborting after the request completes is a no-op, so we don't need a\n    // corresponding clearTimeout.\n    //\n    // Locating abort logic here because:\n    // * it uses a developer setting (timeout)\n    // * it applies to all retries (like curl's max-time arg)\n    // * it is consistent with the Fetch API's signal input\n    const abortSignal = new RemoteConfigAbortSignal();\n\n    setTimeout(async () => {\n      // Note a very low delay, eg < 10ms, can elapse before listeners are initialized.\n      abortSignal.abort();\n    }, this.settings.fetchTimeoutMillis);\n\n    // Catches *all* errors thrown by client so status can be set consistently.\n    try {\n      await this._client.fetch({\n        cacheMaxAgeMillis: this.settings.minimumFetchIntervalMillis,\n        signal: abortSignal\n      });\n\n      await this._storageCache.setLastFetchStatus('success');\n    } catch (e) {\n      const lastFetchStatus = hasErrorCode(e, ErrorCode.FETCH_THROTTLE)\n        ? 'throttle'\n        : 'failure';\n      await this._storageCache.setLastFetchStatus(lastFetchStatus);\n      throw e;\n    }\n  }\n\n  async fetchAndActivate(): Promise<boolean> {\n    await this.fetch();\n    return this.activate();\n  }\n\n  getAll(): { [key: string]: ValueType } {\n    return getAllKeys(\n      this._storageCache.getActiveConfig(),\n      this.defaultConfig\n    ).reduce((allConfigs, key) => {\n      allConfigs[key] = this.getValue(key);\n      return allConfigs;\n    }, {} as { [key: string]: ValueType });\n  }\n\n  getBoolean(key: string): boolean {\n    return this.getValue(key).asBoolean();\n  }\n\n  getNumber(key: string): number {\n    return this.getValue(key).asNumber();\n  }\n\n  getString(key: string): string {\n    return this.getValue(key).asString();\n  }\n\n  getValue(key: string): ValueType {\n    if (!this._isInitializationComplete) {\n      this._logger.debug(\n        `A value was requested for key \"${key}\" before SDK initialization completed.` +\n          ' Await on ensureInitialized if the intent was to get a previously activated value.'\n      );\n    }\n    const activeConfig = this._storageCache.getActiveConfig();\n    if (activeConfig && activeConfig[key] !== undefined) {\n      return new Value('remote', activeConfig[key]);\n    } else if (this.defaultConfig && this.defaultConfig[key] !== undefined) {\n      return new Value('default', String(this.defaultConfig[key]));\n    }\n    this._logger.debug(\n      `Returning static value for key \"${key}\".` +\n        ' Define a default or remote value if this is unintentional.'\n    );\n    return new Value('static');\n  }\n}\n\n/**\n * Dedupes and returns an array of all the keys of the received objects.\n */\nfunction getAllKeys(obj1: {} = {}, obj2: {} = {}): string[] {\n  return Object.keys({ ...obj1, ...obj2 });\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FetchStatus } from '@firebase/remote-config-types';\nimport {\n  FetchResponse,\n  FirebaseRemoteConfigObject\n} from '../client/remote_config_fetch_client';\nimport { ERROR_FACTORY, ErrorCode } from '../errors';\nimport { FirebaseError } from '@firebase/util';\n\n/**\n * Converts an error event associated with a {@link IDBRequest} to a {@link FirebaseError}.\n */\nfunction toFirebaseError(event: Event, errorCode: ErrorCode): FirebaseError {\n  const originalError = (event.target as IDBRequest).error || undefined;\n  return ERROR_FACTORY.create(errorCode, {\n    originalErrorMessage: originalError && originalError.message\n  });\n}\n\n/**\n * A general-purpose store keyed by app + namespace + {@link\n * ProjectNamespaceKeyFieldValue}.\n *\n * <p>The Remote Config SDK can be used with multiple app installations, and each app can interact\n * with multiple namespaces, so this store uses app (ID + name) and namespace as common parent keys\n * for a set of key-value pairs. See {@link Storage#createCompositeKey}.\n *\n * <p>Visible for testing.\n */\nexport const APP_NAMESPACE_STORE = 'app_namespace_store';\n\nconst DB_NAME = 'firebase_remote_config';\nconst DB_VERSION = 1;\n\n/**\n * Encapsulates metadata concerning throttled fetch requests.\n */\nexport interface ThrottleMetadata {\n  // The number of times fetch has backed off. Used for resuming backoff after a timeout.\n  backoffCount: number;\n  // The Unix timestamp in milliseconds when callers can retry a request.\n  throttleEndTimeMillis: number;\n}\n\n/**\n * Provides type-safety for the \"key\" field used by {@link APP_NAMESPACE_STORE}.\n *\n * <p>This seems like a small price to avoid potentially subtle bugs caused by a typo.\n */\ntype ProjectNamespaceKeyFieldValue =\n  | 'active_config'\n  | 'active_config_etag'\n  | 'last_fetch_status'\n  | 'last_successful_fetch_timestamp_millis'\n  | 'last_successful_fetch_response'\n  | 'settings'\n  | 'throttle_metadata';\n\n// Visible for testing.\nexport function openDatabase(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n    request.onerror = event => {\n      reject(toFirebaseError(event, ErrorCode.STORAGE_OPEN));\n    };\n    request.onsuccess = event => {\n      resolve((event.target as IDBOpenDBRequest).result);\n    };\n    request.onupgradeneeded = event => {\n      const db = (event.target as IDBOpenDBRequest).result;\n\n      // We don't use 'break' in this switch statement, the fall-through\n      // behavior is what we want, because if there are multiple versions between\n      // the old version and the current version, we want ALL the migrations\n      // that correspond to those versions to run, not only the last one.\n      // eslint-disable-next-line default-case\n      switch (event.oldVersion) {\n        case 0:\n          db.createObjectStore(APP_NAMESPACE_STORE, {\n            keyPath: 'compositeKey'\n          });\n      }\n    };\n  });\n}\n\n/**\n * Abstracts data persistence.\n */\nexport class Storage {\n  /**\n   * @param appId enables storage segmentation by app (ID + name).\n   * @param appName enables storage segmentation by app (ID + name).\n   * @param namespace enables storage segmentation by namespace.\n   */\n  constructor(\n    private readonly appId: string,\n    private readonly appName: string,\n    private readonly namespace: string,\n    private readonly openDbPromise = openDatabase()\n  ) {}\n\n  getLastFetchStatus(): Promise<FetchStatus | undefined> {\n    return this.get<FetchStatus>('last_fetch_status');\n  }\n\n  setLastFetchStatus(status: FetchStatus): Promise<void> {\n    return this.set<FetchStatus>('last_fetch_status', status);\n  }\n\n  // This is comparable to a cache entry timestamp. If we need to expire other data, we could\n  // consider adding timestamp to all storage records and an optional max age arg to getters.\n  getLastSuccessfulFetchTimestampMillis(): Promise<number | undefined> {\n    return this.get<number>('last_successful_fetch_timestamp_millis');\n  }\n\n  setLastSuccessfulFetchTimestampMillis(timestamp: number): Promise<void> {\n    return this.set<number>(\n      'last_successful_fetch_timestamp_millis',\n      timestamp\n    );\n  }\n\n  getLastSuccessfulFetchResponse(): Promise<FetchResponse | undefined> {\n    return this.get<FetchResponse>('last_successful_fetch_response');\n  }\n\n  setLastSuccessfulFetchResponse(response: FetchResponse): Promise<void> {\n    return this.set<FetchResponse>('last_successful_fetch_response', response);\n  }\n\n  getActiveConfig(): Promise<FirebaseRemoteConfigObject | undefined> {\n    return this.get<FirebaseRemoteConfigObject>('active_config');\n  }\n\n  setActiveConfig(config: FirebaseRemoteConfigObject): Promise<void> {\n    return this.set<FirebaseRemoteConfigObject>('active_config', config);\n  }\n\n  getActiveConfigEtag(): Promise<string | undefined> {\n    return this.get<string>('active_config_etag');\n  }\n\n  setActiveConfigEtag(etag: string): Promise<void> {\n    return this.set<string>('active_config_etag', etag);\n  }\n\n  getThrottleMetadata(): Promise<ThrottleMetadata | undefined> {\n    return this.get<ThrottleMetadata>('throttle_metadata');\n  }\n\n  setThrottleMetadata(metadata: ThrottleMetadata): Promise<void> {\n    return this.set<ThrottleMetadata>('throttle_metadata', metadata);\n  }\n\n  deleteThrottleMetadata(): Promise<void> {\n    return this.delete('throttle_metadata');\n  }\n\n  async get<T>(key: ProjectNamespaceKeyFieldValue): Promise<T | undefined> {\n    const db = await this.openDbPromise;\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([APP_NAMESPACE_STORE], 'readonly');\n      const objectStore = transaction.objectStore(APP_NAMESPACE_STORE);\n      const compositeKey = this.createCompositeKey(key);\n      try {\n        const request = objectStore.get(compositeKey);\n        request.onerror = event => {\n          reject(toFirebaseError(event, ErrorCode.STORAGE_GET));\n        };\n        request.onsuccess = event => {\n          const result = (event.target as IDBRequest).result;\n          if (result) {\n            resolve(result.value);\n          } else {\n            resolve(undefined);\n          }\n        };\n      } catch (e) {\n        reject(\n          ERROR_FACTORY.create(ErrorCode.STORAGE_GET, {\n            originalErrorMessage: e && e.message\n          })\n        );\n      }\n    });\n  }\n\n  async set<T>(key: ProjectNamespaceKeyFieldValue, value: T): Promise<void> {\n    const db = await this.openDbPromise;\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([APP_NAMESPACE_STORE], 'readwrite');\n      const objectStore = transaction.objectStore(APP_NAMESPACE_STORE);\n      const compositeKey = this.createCompositeKey(key);\n      try {\n        const request = objectStore.put({\n          compositeKey,\n          value\n        });\n        request.onerror = (event: Event) => {\n          reject(toFirebaseError(event, ErrorCode.STORAGE_SET));\n        };\n        request.onsuccess = () => {\n          resolve();\n        };\n      } catch (e) {\n        reject(\n          ERROR_FACTORY.create(ErrorCode.STORAGE_SET, {\n            originalErrorMessage: e && e.message\n          })\n        );\n      }\n    });\n  }\n\n  async delete(key: ProjectNamespaceKeyFieldValue): Promise<void> {\n    const db = await this.openDbPromise;\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([APP_NAMESPACE_STORE], 'readwrite');\n      const objectStore = transaction.objectStore(APP_NAMESPACE_STORE);\n      const compositeKey = this.createCompositeKey(key);\n      try {\n        const request = objectStore.delete(compositeKey);\n        request.onerror = (event: Event) => {\n          reject(toFirebaseError(event, ErrorCode.STORAGE_DELETE));\n        };\n        request.onsuccess = () => {\n          resolve();\n        };\n      } catch (e) {\n        reject(\n          ERROR_FACTORY.create(ErrorCode.STORAGE_DELETE, {\n            originalErrorMessage: e && e.message\n          })\n        );\n      }\n    });\n  }\n\n  // Facilitates composite key functionality (which is unsupported in IE).\n  createCompositeKey(key: ProjectNamespaceKeyFieldValue): string {\n    return [this.appId, this.appName, this.namespace, key].join();\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FetchStatus } from '@firebase/remote-config-types';\nimport { FirebaseRemoteConfigObject } from '../client/remote_config_fetch_client';\nimport { Storage } from './storage';\n\n/**\n * A memory cache layer over storage to support the SDK's synchronous read requirements.\n */\nexport class StorageCache {\n  constructor(private readonly storage: Storage) {}\n\n  /**\n   * Memory caches.\n   */\n  private lastFetchStatus?: FetchStatus;\n  private lastSuccessfulFetchTimestampMillis?: number;\n  private activeConfig?: FirebaseRemoteConfigObject;\n\n  /**\n   * Memory-only getters\n   */\n  getLastFetchStatus(): FetchStatus | undefined {\n    return this.lastFetchStatus;\n  }\n\n  getLastSuccessfulFetchTimestampMillis(): number | undefined {\n    return this.lastSuccessfulFetchTimestampMillis;\n  }\n\n  getActiveConfig(): FirebaseRemoteConfigObject | undefined {\n    return this.activeConfig;\n  }\n\n  /**\n   * Read-ahead getter\n   */\n  async loadFromStorage(): Promise<void> {\n    const lastFetchStatusPromise = this.storage.getLastFetchStatus();\n    const lastSuccessfulFetchTimestampMillisPromise = this.storage.getLastSuccessfulFetchTimestampMillis();\n    const activeConfigPromise = this.storage.getActiveConfig();\n\n    // Note:\n    // 1. we consistently check for undefined to avoid clobbering defined values\n    //   in memory\n    // 2. we defer awaiting to improve readability, as opposed to destructuring\n    //   a Promise.all result, for example\n\n    const lastFetchStatus = await lastFetchStatusPromise;\n    if (lastFetchStatus) {\n      this.lastFetchStatus = lastFetchStatus;\n    }\n\n    const lastSuccessfulFetchTimestampMillis = await lastSuccessfulFetchTimestampMillisPromise;\n    if (lastSuccessfulFetchTimestampMillis) {\n      this.lastSuccessfulFetchTimestampMillis = lastSuccessfulFetchTimestampMillis;\n    }\n\n    const activeConfig = await activeConfigPromise;\n    if (activeConfig) {\n      this.activeConfig = activeConfig;\n    }\n  }\n\n  /**\n   * Write-through setters\n   */\n  setLastFetchStatus(status: FetchStatus): Promise<void> {\n    this.lastFetchStatus = status;\n    return this.storage.setLastFetchStatus(status);\n  }\n\n  setLastSuccessfulFetchTimestampMillis(\n    timestampMillis: number\n  ): Promise<void> {\n    this.lastSuccessfulFetchTimestampMillis = timestampMillis;\n    return this.storage.setLastSuccessfulFetchTimestampMillis(timestampMillis);\n  }\n\n  setActiveConfig(activeConfig: FirebaseRemoteConfigObject): Promise<void> {\n    this.activeConfig = activeConfig;\n    return this.storage.setActiveConfig(activeConfig);\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  RemoteConfigAbortSignal,\n  RemoteConfigFetchClient,\n  FetchResponse,\n  FetchRequest\n} from './remote_config_fetch_client';\nimport { ThrottleMetadata, Storage } from '../storage/storage';\nimport { ErrorCode, ERROR_FACTORY } from '../errors';\nimport { FirebaseError, calculateBackoffMillis } from '@firebase/util';\n\n/**\n * Supports waiting on a backoff by:\n *\n * <ul>\n *   <li>Promisifying setTimeout, so we can set a timeout in our Promise chain</li>\n *   <li>Listening on a signal bus for abort events, just like the Fetch API</li>\n *   <li>Failing in the same way the Fetch API fails, so timing out a live request and a throttled\n *       request appear the same.</li>\n * </ul>\n *\n * <p>Visible for testing.\n */\nexport function setAbortableTimeout(\n  signal: RemoteConfigAbortSignal,\n  throttleEndTimeMillis: number\n): Promise<void> {\n  return new Promise((resolve, reject) => {\n    // Derives backoff from given end time, normalizing negative numbers to zero.\n    const backoffMillis = Math.max(throttleEndTimeMillis - Date.now(), 0);\n\n    const timeout = setTimeout(resolve, backoffMillis);\n\n    // Adds listener, rather than sets onabort, because signal is a shared object.\n    signal.addEventListener(() => {\n      clearTimeout(timeout);\n\n      // If the request completes before this timeout, the rejection has no effect.\n      reject(\n        ERROR_FACTORY.create(ErrorCode.FETCH_THROTTLE, {\n          throttleEndTimeMillis\n        })\n      );\n    });\n  });\n}\n\n/**\n * Returns true if the {@link Error} indicates a fetch request may succeed later.\n */\nfunction isRetriableError(e: Error): boolean {\n  if (!(e instanceof FirebaseError)) {\n    return false;\n  }\n\n  // Uses string index defined by ErrorData, which FirebaseError implements.\n  const httpStatus = Number(e['httpStatus']);\n\n  return (\n    httpStatus === 429 ||\n    httpStatus === 500 ||\n    httpStatus === 503 ||\n    httpStatus === 504\n  );\n}\n\n/**\n * Decorates a Client with retry logic.\n *\n * <p>Comparable to CachingClient, but uses backoff logic instead of cache max age and doesn't cache\n * responses (because the SDK has no use for error responses).\n */\nexport class RetryingClient implements RemoteConfigFetchClient {\n  constructor(\n    private readonly client: RemoteConfigFetchClient,\n    private readonly storage: Storage\n  ) {}\n\n  async fetch(request: FetchRequest): Promise<FetchResponse> {\n    const throttleMetadata = (await this.storage.getThrottleMetadata()) || {\n      backoffCount: 0,\n      throttleEndTimeMillis: Date.now()\n    };\n\n    return this.attemptFetch(request, throttleMetadata);\n  }\n\n  /**\n   * A recursive helper for attempting a fetch request repeatedly.\n   *\n   * @throws any non-retriable errors.\n   */\n  async attemptFetch(\n    request: FetchRequest,\n    { throttleEndTimeMillis, backoffCount }: ThrottleMetadata\n  ): Promise<FetchResponse> {\n    // Starts with a (potentially zero) timeout to support resumption from stored state.\n    // Ensures the throttle end time is honored if the last attempt timed out.\n    // Note the SDK will never make a request if the fetch timeout expires at this point.\n    await setAbortableTimeout(request.signal, throttleEndTimeMillis);\n\n    try {\n      const response = await this.client.fetch(request);\n\n      // Note the SDK only clears throttle state if response is success or non-retriable.\n      await this.storage.deleteThrottleMetadata();\n\n      return response;\n    } catch (e) {\n      if (!isRetriableError(e)) {\n        throw e;\n      }\n\n      // Increments backoff state.\n      const throttleMetadata = {\n        throttleEndTimeMillis:\n          Date.now() + calculateBackoffMillis(backoffCount),\n        backoffCount: backoffCount + 1\n      };\n\n      // Persists state.\n      await this.storage.setThrottleMetadata(throttleMetadata);\n\n      return this.attemptFetch(request, throttleMetadata);\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase from '@firebase/app';\nimport '@firebase/installations';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\nimport { RemoteConfig as RemoteConfigType } from '@firebase/remote-config-types';\nimport { CachingClient } from './src/client/caching_client';\nimport { RestClient } from './src/client/rest_client';\nimport { RemoteConfig } from './src/remote_config';\nimport { Storage } from './src/storage/storage';\nimport { StorageCache } from './src/storage/storage_cache';\nimport { ERROR_FACTORY, ErrorCode } from './src/errors';\nimport { RetryingClient } from './src/client/retrying_client';\nimport { Logger, LogLevel as FirebaseLogLevel } from '@firebase/logger';\nimport { name as packageName, version } from './package.json';\nimport {\n  Component,\n  ComponentType,\n  ComponentContainer\n} from '@firebase/component';\n\n// Facilitates debugging by enabling settings changes without rebuilding asset.\n// Note these debug options are not part of a documented, supported API and can change at any time.\n// Consolidates debug options for easier discovery.\n// Uses transient variables on window to avoid lingering state causing panic.\ndeclare global {\n  interface Window {\n    FIREBASE_REMOTE_CONFIG_URL_BASE: string;\n  }\n}\n\nexport function registerRemoteConfig(\n  firebaseInstance: _FirebaseNamespace\n): void {\n  firebaseInstance.INTERNAL.registerComponent(\n    new Component(\n      'remoteConfig',\n      remoteConfigFactory,\n      ComponentType.PUBLIC\n    ).setMultipleInstances(true)\n  );\n\n  firebaseInstance.registerVersion(packageName, version);\n\n  function remoteConfigFactory(\n    container: ComponentContainer,\n    namespace?: string\n  ): RemoteConfig {\n    /* Dependencies */\n    // getImmediate for FirebaseApp will always succeed\n    const app = container.getProvider('app').getImmediate();\n    // The following call will always succeed because rc has `import '@firebase/installations'`\n    const installations = container.getProvider('installations').getImmediate();\n\n    // Guards against the SDK being used in non-browser environments.\n    if (typeof window === 'undefined') {\n      throw ERROR_FACTORY.create(ErrorCode.REGISTRATION_WINDOW);\n    }\n\n    // Normalizes optional inputs.\n    const { projectId, apiKey, appId } = app.options;\n    if (!projectId) {\n      throw ERROR_FACTORY.create(ErrorCode.REGISTRATION_PROJECT_ID);\n    }\n    if (!apiKey) {\n      throw ERROR_FACTORY.create(ErrorCode.REGISTRATION_API_KEY);\n    }\n    if (!appId) {\n      throw ERROR_FACTORY.create(ErrorCode.REGISTRATION_APP_ID);\n    }\n    namespace = namespace || 'firebase';\n\n    const storage = new Storage(appId, app.name, namespace);\n    const storageCache = new StorageCache(storage);\n\n    const logger = new Logger(packageName);\n\n    // Sets ERROR as the default log level.\n    // See RemoteConfig#setLogLevel for corresponding normalization to ERROR log level.\n    logger.logLevel = FirebaseLogLevel.ERROR;\n\n    const restClient = new RestClient(\n      installations,\n      // Uses the JS SDK version, by which the RC package version can be deduced, if necessary.\n      firebaseInstance.SDK_VERSION,\n      namespace,\n      projectId,\n      apiKey,\n      appId\n    );\n    const retryingClient = new RetryingClient(restClient, storage);\n    const cachingClient = new CachingClient(\n      retryingClient,\n      storage,\n      storageCache,\n      logger\n    );\n\n    const remoteConfigInstance = new RemoteConfig(\n      app,\n      cachingClient,\n      storageCache,\n      storage,\n      logger\n    );\n\n    // Starts warming cache.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    remoteConfigInstance.ensureInitialized();\n\n    return remoteConfigInstance;\n  }\n}\n\nregisterRemoteConfig(firebase as _FirebaseNamespace);\n\ndeclare module '@firebase/app-types' {\n  interface FirebaseNamespace {\n    remoteConfig?: {\n      (app?: FirebaseApp): RemoteConfigType;\n    };\n  }\n  interface FirebaseApp {\n    remoteConfig(): RemoteConfigType;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z\"\n}), 'Assignment');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\"\n}), 'People');\nexports.default = _default;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCardContentUtilityClass(slot) {\n  return generateUtilityClass('MuiCardContent', slot);\n}\nconst cardContentClasses = generateUtilityClasses('MuiCardContent', ['root']);\nexport default cardContentClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardContentUtilityClass } from './cardContentClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardContentUtilityClass, classes);\n};\nconst CardContentRoot = styled('div', {\n  name: 'MuiCardContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  };\n});\nconst CardContent = /*#__PURE__*/React.forwardRef(function CardContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardContent'\n  });\n  const {\n      className,\n      component = 'div'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardContentRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardContent;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n  const {\n      className,\n      raised = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    raised\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogActions', slot);\n}\nconst dialogActionsClasses = generateUtilityClasses('MuiDialogActions', ['root', 'spacing']);\nexport default dialogActionsClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disableSpacing\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogActionsUtilityClass } from './dialogActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getDialogActionsUtilityClass, classes);\n};\nconst DialogActionsRoot = styled('div', {\n  name: 'MuiDialogActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8,\n  justifyContent: 'flex-end',\n  flex: '0 0 auto'\n}, !ownerState.disableSpacing && {\n  '& > :not(:first-of-type)': {\n    marginLeft: 8\n  }\n}));\nconst DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogActions'\n  });\n  const {\n      className,\n      disableSpacing = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogActions;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nconst dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Typography from '../Typography';\nimport { getDialogContentTextUtilityClass } from './dialogContentTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  const composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\nconst DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n  const {\n      className\n    } = props,\n    ownerState = _objectWithoutPropertiesLoose(props, _excluded);\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"text.secondary\",\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className)\n  }, props, {\n    classes: classes\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContentText;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogContentUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContent', slot);\n}\nconst dialogContentClasses = generateUtilityClasses('MuiDialogContent', ['root', 'dividers']);\nexport default dialogContentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"dividers\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogContentUtilityClass } from './dialogContentClasses';\nimport dialogTitleClasses from '../DialogTitle/dialogTitleClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    dividers\n  } = ownerState;\n  const slots = {\n    root: ['root', dividers && 'dividers']\n  };\n  return composeClasses(slots, getDialogContentUtilityClass, classes);\n};\nconst DialogContentRoot = styled('div', {\n  name: 'MuiDialogContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.dividers && styles.dividers];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  flex: '1 1 auto',\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  overflowY: 'auto',\n  padding: '20px 24px'\n}, ownerState.dividers ? {\n  padding: '16px 24px',\n  borderTop: `1px solid ${(theme.vars || theme).palette.divider}`,\n  borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`\n} : {\n  [`.${dialogTitleClasses.root} + &`]: {\n    paddingTop: 0\n  }\n}));\nconst DialogContent = /*#__PURE__*/React.forwardRef(function DialogContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContent'\n  });\n  const {\n      className,\n      dividers = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    dividers\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContent.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Display the top and bottom dividers.\n   * @default false\n   */\n  dividers: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"id\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogTitleUtilityClass } from './dialogTitleClasses';\nimport DialogContext from '../Dialog/DialogContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getDialogTitleUtilityClass, classes);\n};\nconst DialogTitleRoot = styled(Typography, {\n  name: 'MuiDialogTitle',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  padding: '16px 24px',\n  flex: '0 0 auto'\n});\nconst DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogTitle'\n  });\n  const {\n      className,\n      id: idProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  const {\n    titleId = idProp\n  } = React.useContext(DialogContext);\n  return /*#__PURE__*/_jsx(DialogTitleRoot, _extends({\n    component: \"h2\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    variant: \"h6\",\n    id: idProp != null ? idProp : titleId\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogTitle;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogTitleUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogTitle', slot);\n}\nconst dialogTitleClasses = generateUtilityClasses('MuiDialogTitle', ['root']);\nexport default dialogTitleClasses;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getListItemAvatarUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemAvatar', slot);\n}\nconst listItemAvatarClasses = generateUtilityClasses('MuiListItemAvatar', ['root', 'alignItemsFlexStart']);\nexport default listItemAvatarClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport ListContext from '../List/ListContext';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getListItemAvatarUtilityClass } from './listItemAvatarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', alignItems === 'flex-start' && 'alignItemsFlexStart']\n  };\n  return composeClasses(slots, getListItemAvatarUtilityClass, classes);\n};\nconst ListItemAvatarRoot = styled('div', {\n  name: 'MuiListItemAvatar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart];\n  }\n})(({\n  ownerState\n}) => _extends({\n  minWidth: 56,\n  flexShrink: 0\n}, ownerState.alignItems === 'flex-start' && {\n  marginTop: 8\n}));\n\n/**\n * A simple wrapper to apply `List` styles to an `Avatar`.\n */\nconst ListItemAvatar = /*#__PURE__*/React.forwardRef(function ListItemAvatar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemAvatar'\n  });\n  const {\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const context = React.useContext(ListContext);\n  const ownerState = _extends({}, props, {\n    alignItems: context.alignItems\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemAvatarRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemAvatar.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component, normally an `Avatar`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemAvatar;","/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase from '@firebase/app';\nimport { name, version } from '../package.json';\n\nfirebase.registerVersion(name, version, 'app');\n\nexport default firebase;\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconsole.warn(`\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n`);\n\nimport firebase from '../app';\nimport { name, version } from '../package.json';\n\nimport '../auth';\nimport '../database';\nimport '../firestore';\nimport '../functions';\nimport '../messaging';\nimport '../storage';\nimport '../performance';\nimport '../analytics';\nimport '../remote-config';\n\nfirebase.registerVersion(name, version);\n\nexport default firebase;\n"],"names":["errorCodeMap","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS","HttpsErrorImpl","_super","code","message","details","_this","call","Object","setPrototypeOf","prototype","tslib","__extends","Error","ContextProvider","authProvider","messagingProvider","auth","messaging","this","getImmediate","optional","get","then","getAuthToken","undefined","getToken","token","_a","sent","accessToken","getInstanceIdToken","self","Notification","permission","e","getContext","authToken","instanceIdToken","mapValues","o","f","result","key","hasOwnProperty","Serializer","encode","data","Number","valueOf","isFinite","toString","Array","isArray","map","x","decode","json","value","isNaN","Service","app_","regionOrCustomDomain_","fetchImpl","serializer","emulatorOrigin","delete","Promise","resolve","deleteService","contextProvider","cancelAllRequests","url","URL","customDomain","origin","region","defineProperty","_url","name","projectId","options","useFunctionsEmulator","httpsCallable","postJSON","body","headers","method","JSON","stringify","response","status","context","_b","timeout","millis","timer","promise","_","reject","setTimeout","failAfter","failAfterPromise","race","clearTimeoutWrapper","error","bodyJSON","codeForHTTPStatus","description","errorJSON","status_1","_errorForResponse","responseData","clearTimeout","instance","namespaceExports","Functions","registerComponent","component","Component","container","regionOrCustomDomain","app","getProvider","setServiceProps","setMultipleInstances","registerFunctions","firebase__default","fetch","bind","registerVersion","extendStatics","d","b","__proto__","p","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","__generator","y","g","label","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__createBinding","m","k","k2","__exportStar","exports","__values","__read","ar","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","apiInstance","windowInstance","SDK_VERSION","version","TRACE_MEASURE_PREFIX","OOB_TRACE_PAGE_LOAD_PREFIX","FIRST_CONTENTFUL_PAINT_COUNTER_NAME","FIRST_INPUT_DELAY_COUNTER_NAME","CONFIG_LOCAL_STORAGE_KEY","CONFIG_EXPIRY_LOCAL_STORAGE_KEY","SERVICE_NAME","ERROR_DESCRIPTION_MAP","ERROR_FACTORY","util","ErrorFactory","consoleLogger","logger$1","Logger","logLevel","LogLevel","INFO","settingsServiceInstance","Api","window","performance","PerformanceObserver","windowLocation","location","navigator","document","cookieEnabled","localStorage","perfMetrics","onFirstInputDelay","getUrl","href","split","mark","measure","measureName","mark1","mark2","getEntriesByType","type","getEntriesByName","getTimeOrigin","timeOrigin","timing","navigationStart","requiredApisAvailable","isIndexedDBAvailable","info","setupObserver","entryType","callback","observer","list","_i","getEntries","entry","observe","entryTypes","getInstance","mergeStrings","part1","part2","sizeDiff","resultArray","charAt","join","iid","VisibilityState","SettingsService","instrumentationEnabled","dataCollectionEnabled","loggingEnabled","tracesSamplingRate","networkRequestsSamplingRate","logEndPointUrl","flTransportEndpointUrl","transportKey","logSource","logTraceAfterSampling","logNetworkAfterSampling","configTimeToLive","getAppId","appId","firebaseAppInstance","getProjectId","getApiKey","apiKey","getFlTransportFullUrl","getIid","RESERVED_ATTRIBUTE_PREFIXES","ATTRIBUTE_FORMAT_REGEX","RegExp","getServiceWorkerStatus","serviceWorker","controller","getVisibilityState","visibilityState","VISIBLE","HIDDEN","getEffectiveConnectionType","navigatorConnection","connection","effectiveType","REMOTE_CONFIG_SDK_VERSION","DEFAULT_CONFIGS","FIS_AUTH_PREFIX","getConfig","config","expiryString","getItem","expiry","Date","now","configStringified","parse","getStoredConfig","processConfig","authTokenPromise","installationsService","authTokenVal","getAuthTokenPromise","configEndPoint","request","Request","Authorization","app_instance_id","app_instance_id_token","app_id","app_version","sdk_version","ok","catch","COULD_NOT_GET_CONFIG_MSG","getRemoteConfig","setItem","String","storeConfig","entries","fpr_enabled","fpr_log_source","fpr_log_endpoint_url","fpr_log_transport_key","fpr_vc_network_request_sampling_rate","fpr_vc_trace_sampling_rate","shouldLogAfterSampling","samplingRate","Math","random","initializationPromise","initializationStatus","getInitializationPromise","readyState","handler_1","removeEventListener","addEventListener","getDocumentReadyComplete","iidPromise","getId","iidVal","getIidPromise","changeInitializationStatus","logger","DEFAULT_SEND_INTERVAL_MS","DEFAULT_REMAINING_TRIES","remainingTries","queue","isTransportSetup","processQueue","timeOffset","staged","log_event","evt","source_extension_json_proto3","event_time_ms","eventTime","flTransportFullUrl","postToFlEndpoint","res","transportWait","nextRequestWaitMillis","requestOffset","max","logResponseDetails","responseAction","sendEventsToFl","request_time_ms","client_info","client_type","js_client_info","log_source","dispatchQueueEvents","transportHandler","args","addToQueue","sendLog","resource","resourceType","logTrace","trace","settingsService","isAuto","sendTraceLog","networkRequest","networkRequestMetric","http_method","httpMethod","http_response_code","response_payload_bytes","responsePayloadBytes","client_start_time_us","startTimeUs","time_to_response_initiated_us","timeToResponseInitiatedUs","time_to_response_completed_us","timeToResponseCompletedUs","perfMetric","application_info","getApplicationInfo","network_request_metric","serializeNetworkRequest","traceMetric","is_auto","duration_us","durationUs","keys","counters","customAttributes","getAttributes","custom_attributes","trace_metric","serializeTrace","google_app_id","web_app_info","page_url","service_worker_status","visibility_state","effective_connection_type","application_process_state","oobMetrics","Trace","traceMeasureName","state","api","randomId","floor","traceStartMark","TRACE_START_MARK_PREFIX","traceStopMark","TRACE_STOP_MARK_PREFIX","traceMeasure","calculateTraceMetrics","start","traceName","stop","record","startTime","duration","attributes","metrics","metric","incrementMetric","counter","numAsInteger","putMetric","startsWith","isValidMetricName","customMetricName","providedValue","valueAsInteger","convertMetricValueToInteger","getMetric","putAttribute","attr","isValidName","some","prefix","match","isValidCustomAttributeName","isValidValue","isValidCustomAttributeValue","attributeName","attributeValue","getAttribute","removeAttribute","setStartTime","setDuration","perfMeasureEntries","perfMeasureEntry","createOobTrace","navigationTimings","paintTimings","firstInputDelay","route","timeOriginUs","domInteractive","domContentLoadedEventEnd","loadEventEnd","firstPaint","find","paintObject","firstContentfulPaint","createUserTimingTrace","createNetworkRequestEntry","performanceEntry","responseStart","responseEnd","networkRequestUrl","logEndpointUrl","flEndpointUrl","logNetworkRequest","transferSize","FID_WAIT_TIME_MS","setupOobResources","timeoutId_1","fid","setupOobTraces","resources","resources_1","setupNetworkRequests","measures","measures_1","setupUserTimingTraces","substring","PerformanceController","validateIndexedDBOpenable","isAvailable","val","registerPerformance","factoryMethod","installations","setupApi","CachingClient","client","storage","storageCache","isCachedDataFresh","cacheMaxAgeMillis","lastSuccessfulFetchTimestampMillis","debug","cacheAgeMillis","all","getLastSuccessfulFetchTimestampMillis","getLastSuccessfulFetchResponse","lastSuccessfulFetchResponse","eTag","storageOperations","setLastSuccessfulFetchTimestampMillis","setLastSuccessfulFetchResponse","RestClient","firebaseInstallations","sdkVersion","namespace","installationId","installationToken","urlBase","FIREBASE_REMOTE_CONFIG_URL_BASE","requestBody","language_code","navigatorLanguage","languages","language","fetchPromise","timeoutPromise","_resolve","signal","errorCode","originalError_1","originalErrorMessage","responseEtag","responseBody","originalError_2","httpStatus","RemoteConfigAbortSignal","listeners","listener","abort","forEach","BOOLEAN_TRUTHY_VALUES","Value","_source","_value","asString","asBoolean","toLowerCase","asNumber","num","getSource","RemoteConfig","_client","_storageCache","_storage","_logger","_isInitializationComplete","settings","fetchTimeoutMillis","minimumFetchIntervalMillis","defaultConfig","setLogLevel","DEBUG","SILENT","ERROR","getLastFetchStatus","activate","getActiveConfigEtag","activeConfigEtag","setActiveConfig","setActiveConfigEtag","ensureInitialized","_initializePromise","loadFromStorage","abortSignal","setLastFetchStatus","lastFetchStatus","e_1","FirebaseError","fetchAndActivate","getAll","obj1","obj2","getAllKeys","getActiveConfig","reduce","allConfigs","getValue","getBoolean","getNumber","getString","activeConfig","toFirebaseError","event","originalError","APP_NAMESPACE_STORE","Storage","appName","openDbPromise","indexedDB","open","onerror","onsuccess","onupgradeneeded","db","oldVersion","createObjectStore","keyPath","timestamp","etag","getThrottleMetadata","setThrottleMetadata","deleteThrottleMetadata","objectStore","transaction","compositeKey","createCompositeKey","put","StorageCache","lastFetchStatusPromise","lastSuccessfulFetchTimestampMillisPromise","activeConfigPromise","timestampMillis","setAbortableTimeout","throttleEndTimeMillis","backoffMillis","RetryingClient","throttleMetadata","backoffCount","attemptFetch","isRetriableError","calculateBackoffMillis","registerRemoteConfig","firebaseInstance","restClient","retryingClient","cachingClient","remoteConfigInstance","_interopRequireDefault","require","_createSvgIcon","_jsxRuntime","_default","jsx","getCardContentUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardContentRoot","styled","overridesResolver","props","styles","root","padding","paddingBottom","React","inProps","ref","useThemeProps","className","_props$component","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","composeClasses","useUtilityClasses","_jsx","as","clsx","getCardUtilityClass","CardRoot","Paper","overflow","_props$raised","raised","elevation","getDialogActionsUtilityClass","DialogActionsRoot","disableSpacing","spacing","_ref","display","alignItems","justifyContent","flex","marginLeft","_props$disableSpacing","slots","getDialogContentTextUtilityClass","DialogContentTextRoot","Typography","shouldForwardProp","prop","rootShouldForwardProp","composedClasses","variant","color","getDialogContentUtilityClass","DialogContentRoot","dividers","theme","WebkitOverflowScrolling","overflowY","borderTop","vars","palette","divider","borderBottom","_defineProperty","dialogTitleClasses","paddingTop","_props$dividers","DialogTitleRoot","DialogTitle","idProp","id","getDialogTitleUtilityClass","_React$useContext$tit","DialogContext","titleId","getListItemAvatarUtilityClass","ListItemAvatarRoot","alignItemsFlexStart","minWidth","flexShrink","marginTop","ListContext","console","warn"],"sourceRoot":""}