"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4603],{14603:function(e,n,r){r.r(n);var i=r(4942),a=r(1413),t=r(29439),s=r(47313),o=r(94469),l=r(33604),c=r(42832),d=r(61113),u=r(96467),Z=r(57829),x=r(51629),h=r(70501),p=r(66835),g=r(23477),m=r(24076),j=r(67478),f=r(57861),v=r(66212),b=r(4117),w=r(24193),S=r(9019),R=r(1550),N=r(54299),C=r(83929),y=r(74268),D=(r(27026),r(56573)),k=r(36974),M=r(12865),P=r(46417),T="Accepted",A="Rejected";n.default=function(){var e=(0,M.E)().user,n=s.useState("Requested"),r=(0,t.Z)(n,2),E=r[0],_=r[1],I=s.useState([]),q=(0,t.Z)(I,2),B=q[0],F=q[1],W=s.useState([]),L=(0,t.Z)(W,2),J=L[0],O=L[1],V=s.useState(null),Y=(0,t.Z)(V,2),z=Y[0],G=Y[1],H=s.useState(null),K=(0,t.Z)(H,2),Q=K[0],U=K[1];(0,s.useEffect)((function(){e&&(D.Z.get("".concat(k.BC,"/manager/onboarding/").concat(e.company,"?key=managerId&value=").concat(e.uid)).then((function(e){F(e.data)})),D.Z.get("".concat(k.BC,"/manager/onboarding/").concat(e.company,"?key=managerEmail&value=").concat(e.email)).then((function(e){O(e.data)})))}),[e]),(0,s.useEffect)((function(){e&&U((function(){var n={};return J.forEach((function(r,i){var a=r.managers[r.managers.findIndex((function(n){return n.managerEmail===e.email}))];n[i]=a.response})),n}))}),[J]);var X=s.useState(!1),$=(0,t.Z)(X,2),ee=$[0],ne=$[1],re=function(){ne(!1)},ie=function(n,r,t,s){return function(o){var l={id:r,managerEmail:e.email,response:n};D.Z.post("".concat(k.BC,"/manager/onboarding/approval"),{payload:l}).then((function(e){U((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},t,e.data.managers[s].response))}))}))}},ae=s.useRef(null);return s.useEffect((function(){if(ee){var e=ae.current;null!==e&&e.focus()}}),[ee]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.Z,{open:ee,onClose:re,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:z&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.Z,{id:"scroll-dialog-title",children:(0,P.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)("div",{children:"Manager Responses"}),(0,P.jsx)("div",{children:(0,P.jsxs)(d.Z,{variant:"overline",children:["\xa0\xa0\xa0By:\xa0\xa0\xa0",z.position.manager,(0,P.jsx)("br",{}),"For:\xa0\xa0\xa0","".concat(z.personal.firstName+" "+z.personal.lastName)]})})]})}),(0,P.jsx)(u.Z,{dividers:"paper"===scroll,children:(0,P.jsx)(Z.Z,{id:"scroll-dialog-description",ref:ae,tabIndex:-1,children:(0,P.jsx)(x.Z,{component:h.Z,children:(0,P.jsxs)(p.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(g.Z,{children:(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",children:"Manager"}),(0,P.jsx)(j.Z,{align:"center",children:"Response"})]})}),(0,P.jsx)(f.Z,{children:z.managers.map((function(e){var n=e.managerEmail,r=e.response;return(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:n})}),(0,P.jsx)(j.Z,{align:"center",variant:"h6",children:(0,P.jsx)(v.Z,{label:r,color:"No Response"===r?"warning":r===T?"success":"error"})})]},n)}))})]})})})}),(0,P.jsx)(b.Z,{children:(0,P.jsx)(w.Z,{onClick:re,children:"Close"})})]})}),(0,P.jsxs)(S.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,P.jsx)(S.ZP,{item:!0,xs:12,children:(0,P.jsx)(d.Z,{sx:{float:"left"},variant:"h3",children:"Track Onboarding Requests"})}),(0,P.jsxs)(S.ZP,{item:!0,xs:12,children:[(0,P.jsx)(R.Z,{children:(0,P.jsxs)(N.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:E,onChange:function(e){return _(e.target.value)},children:[(0,P.jsx)(C.Z,{value:"Requested",control:(0,P.jsx)(y.Z,{}),label:"Requested"}),(0,P.jsx)(C.Z,{value:"Pending Actions",control:(0,P.jsx)(y.Z,{}),label:"Pending Actions"})]})}),(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"Requested"===E?(0,P.jsx)(S.ZP,{item:!0,xs:12,children:(0,P.jsx)(x.Z,{component:h.Z,children:(0,P.jsxs)(p.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(g.Z,{children:(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",children:"First Name"}),(0,P.jsx)(j.Z,{align:"center",children:"Last Name"}),(0,P.jsx)(j.Z,{align:"center",children:"Job Title"}),(0,P.jsx)(j.Z,{align:"center",children:"Start Date"}),(0,P.jsx)(j.Z,{align:"center",children:"Status"})]})}),(0,P.jsx)(f.Z,{children:B.map((function(e,n){var r,i;return(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:e.personal.firstName})}),(0,P.jsx)(j.Z,{align:"center",variant:"h6",children:e.personal.lastName}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:e.position.empType})}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:e.position.start})}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(w.Z,{disabled:!e.managers.length,sx:{mr:1},variant:"contained",color:"primary",onClick:(i=e,function(){ne(!0),G(i)}),children:null!==(r=e.managers)&&void 0!==r&&r.length?"View":"No Delegations"})})]},n)}))})]})})}):"Pending Actions"===E?(0,P.jsx)(S.ZP,{item:!0,xs:12,children:(0,P.jsx)(x.Z,{component:h.Z,children:(0,P.jsxs)(p.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(g.Z,{children:(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",children:"First Name"}),(0,P.jsx)(j.Z,{align:"center",children:"Last Name"}),(0,P.jsx)(j.Z,{align:"center",children:"Job Title"}),(0,P.jsx)(j.Z,{align:"center",children:"Reporter"}),(0,P.jsx)(j.Z,{align:"center",children:"Start Date"}),(0,P.jsx)(j.Z,{align:"center",children:"Status"})]})}),(0,P.jsx)(f.Z,{children:Q&&J.map((function(n,r){var i=n.managers.findIndex((function(n){return n.managerEmail===e.email})),a=Q[r]===T,t=Q[r]===A;return(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(j.Z,{align:"center",scope:"row",children:(0,P.jsx)(d.Z,{variant:"h6",children:n.personal.firstName})}),(0,P.jsx)(j.Z,{align:"center",variant:"h6",children:n.personal.lastName}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.empType})}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.manager})}),(0,P.jsx)(j.Z,{align:"center",children:(0,P.jsx)(d.Z,{sx:{pt:1},variant:"h6",children:n.position.start})}),(0,P.jsxs)(j.Z,{align:"center",children:[(0,P.jsx)(w.Z,{sx:{mr:1,width:"70px"},variant:a?"contained":"outlined",color:a?"success":"secondary",onClick:a?function(){return null}:ie(T,n._id,r,i),children:a?"Accepted":"Accept"}),(0,P.jsx)(w.Z,{sx:{width:"70px"},variant:t?"contained":"outlined",color:t?"error":"secondary",onClick:t?function(){return null}:ie(A,n._id,r,i),children:t?"Rejected":"Reject"})]})]},r)}))})]})})}):null]})]})]})}},4117:function(e,n,r){r.d(n,{Z:function(){return g}});var i=r(63366),a=r(87462),t=r(47313),s=r(83061),o=r(21921),l=r(17592),c=r(77342),d=r(77430),u=r(32298);function Z(e){return(0,u.Z)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var x=r(46417),h=["className","disableSpacing"],p=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,!r.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),g=t.forwardRef((function(e,n){var r=(0,c.Z)({props:e,name:"MuiDialogActions"}),t=r.className,l=r.disableSpacing,d=void 0!==l&&l,u=(0,i.Z)(r,h),g=(0,a.Z)({},r,{disableSpacing:d}),m=function(e){var n=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,o.Z)(r,Z,n)}(g);return(0,x.jsx)(p,(0,a.Z)({className:(0,s.Z)(m.root,t),ownerState:g,ref:n},u))}))},96467:function(e,n,r){r.d(n,{Z:function(){return j}});var i=r(4942),a=r(63366),t=r(87462),s=r(47313),o=r(83061),l=r(21921),c=r(17592),d=r(77342),u=r(77430),Z=r(32298);function x(e){return(0,Z.Z)("MuiDialogContent",e)}(0,u.Z)("MuiDialogContent",["root","dividers"]);var h=r(93174),p=r(46417),g=["className","dividers"],m=(0,c.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,r.dividers&&n.dividers]}})((function(e){var n=e.theme,r=e.ownerState;return(0,t.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:(0,i.Z)({},".".concat(h.Z.root," + &"),{paddingTop:0}))})),j=s.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiDialogContent"}),i=r.className,s=r.dividers,c=void 0!==s&&s,u=(0,a.Z)(r,g),Z=(0,t.Z)({},r,{dividers:c}),h=function(e){var n=e.classes,r={root:["root",e.dividers&&"dividers"]};return(0,l.Z)(r,x,n)}(Z);return(0,p.jsx)(m,(0,t.Z)({className:(0,o.Z)(h.root,i),ownerState:Z,ref:n},u))}))},33604:function(e,n,r){var i=r(87462),a=r(63366),t=r(47313),s=r(83061),o=r(21921),l=r(61113),c=r(17592),d=r(77342),u=r(93174),Z=r(63909),x=r(46417),h=["className","id"],p=(0,c.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),g=t.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiDialogTitle"}),l=r.className,c=r.id,g=(0,a.Z)(r,h),m=r,j=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},u.a,n)}(m),f=t.useContext(Z.Z).titleId,v=void 0===f?c:f;return(0,x.jsx)(p,(0,i.Z)({component:"h2",className:(0,s.Z)(j.root,l),ownerState:m,ref:n,variant:"h6",id:null!=c?c:v},g))}));n.Z=g},93174:function(e,n,r){r.d(n,{a:function(){return t}});var i=r(77430),a=r(32298);function t(e){return(0,a.Z)("MuiDialogTitle",e)}var s=(0,i.Z)("MuiDialogTitle",["root"]);n.Z=s}}]);